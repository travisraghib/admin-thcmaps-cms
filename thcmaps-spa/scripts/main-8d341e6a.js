"use strict";angular.module("thcmaps",["thcmaps.config","thcmaps.ui"]).config(["cfpLoadingBarProvider",function(e){e.includeSpinner=!0}]).config(["$locationProvider",function(e){e.html5Mode(!0)}]),angular.module("thcmaps.ui",["ngAnimate","ngCookies","ngTouch","ngSanitize","ngResource","ui.router","ui.bootstrap","chieffancypants.loadingBar","thcmaps.ui.list","thcmaps.ui.map","thcmaps.ui.vendor","thcmaps.ui.Modal","ngCookies"]),angular.module("thcmaps.ui.map",[]),angular.module("thcmaps.ui.list",[]),angular.module("thcmaps.ui.vendor",[]),angular.module("thcmaps.ui.Modal",[]),angular.module("thcmaps.ui").directive("map",["$rootScope","$templateCache","$compile","mapConst","evt",function(e,s,i,a,t){return{retstrcit:"E",template:'<div style="width:100%; height:100%;"></div>',replace:!0,scope:{zoom:"@"},link:function(s,i){var l,n,d,c,o={},r=new google.maps.InfoWindow,v=function(c,o){var v={center:new google.maps.LatLng(o.lat,o.lng),zoom:Number(s.zoom),scrollwheel:!1,mapTypeControl:!1,panControl:!1,streetViewControl:!1,zoomControlOptions:{position:google.maps.ControlPosition.TOP_RIGHT,style:{SMALL:!0}}};l=new google.maps.Map(i[0],v),n=new google.maps.Marker({position:new google.maps.LatLng(o.lat,o.lng),map:l,title:"gps",icon:a.gpsMarker}),google.maps.event.addListener(l,"click",m),google.maps.event.addListener(n,"click",function(){d=n,r.setContent("Serching Near : "+o.formatted_address),r.open(l,d),e.$broadcast(t.hideIslands)}),google.maps.event.addListener(l,"dragend",function(){var s=l.getCenter(),i={lat:s.lat(),lng:s.lng()};e.$broadcast(t.draggened,i)})},m=function(){var s=function(){e.$broadcast(t.hideIslands),c=null};c&&clearTimeout(c),c=setTimeout(s,1e3)},g="",p=function(s){var i=new google.maps.Marker({position:new google.maps.LatLng(s.loc[0].lat,s.loc[0].lng),map:l,title:s._id,icon:a.marker});return google.maps.event.addListener(i,"click",function(){g&&o[g].setIcon(a.marker),d=i,i.setIcon(a.largeMarker),g=i.title,e.$broadcast(t.showIslands),e.$broadcast(t.map.markerClicked,i.title)}),i},u=function(e,s){var i;for(var a in o)o[a].setMap(null),delete o[a];for(i=0;i<s.length;i++)o[s[i]._id]=p(s[i])},h=function(e,s){var i,t;switch(e.name){case"list:listingClicked":i=a.largeMarker,g=s,t=o[g],l.setCenter(t.position);break;case"list:closeInfoWindow":i=a.marker,t=o[g]}t.setIcon(i)},b=function(e,s){var i=s.loc;n.setPosition(i),l.setCenter(i),google.maps.event.clearInstanceListeners(n),google.maps.event.addListener(n,"click",function(){d=n,r.setContent("Serching Near : "+s.searchingNear),r.open(l,d)})};s.$on(t.init.position,v),s.$on(t.dispensariesReady,u),s.$on(t.listingClicked,h),s.$on(t.closeInfoWindow,h),s.$on(t.updatedSearchingNear,b)}}}]),angular.module("thcmaps.ui").directive("vendorList",["$rootScope","$templateCache","$compile","evt",function(e,s,i,a){return{retstrcit:"E",replace:!0,template:s.get("components/list/listitem.html"),link:function(e){var s=function(s,i){for(var a=0;a<i.length;a++)i[a].pageInfo.rating_num=Math.floor(10*Number(i[a].pageInfo.rating))/10,i[a].pageInfo.rating=Math.floor(i[a].pageInfo.rating);e.vendorListData=i};e.$on(a.dispensariesListReady,s)}}}]),angular.module("thcmaps.ui").directive("heightmanager",["$window",function(e){return{restrict:"A",link:function(s,i,a){var t=angular.element(e),l=Number(a.padding),n=t[0].innerHeight-l;i[0].style.height=n+"px",t.bind("resize",function(){n=t[0].innerHeight-l,i[0].style.height=n+"px"})}}}]),angular.module("thcmaps.ui").directive("errSrc",function(){return{link:function(e,s,i){s.bind("error",function(){i.src!==i.errSrc&&i.$set("src",i.errSrc)})}}}),angular.module("thcmaps.ui").directive("islandVisibility",["$rootScope","evt",function(e,s){return{restrict:"A",link:function(i,a){i.$on(s.hideIslands,function(){a.hasClass("hide-island")||a.addClass("hide-island")}),a.on("mouseover",function(){a.hasClass("hide-island")&&e.$broadcast(s.showIslands)}),i.$on(s.showIslands,function(){a.removeClass("hide-island")})}}}]),angular.module("thcmaps.config",[]).constant("vendorConst","").constant("mapConst",{marker:"images/map/dm.png",largeMarker:"images/map/marker-large.png",gpsMarker:"images/map/gps-marker.png"}).constant("evt",{init:{position:"service:initPosition"},map:{markerClicked:"map:MarkerClicked",markerDataReady:"map:MarkerDataReady",draggened:"map:draggened"},listingClicked:"list:listingClicked",closeInfoWindow:"list:closeInfoWindow",updatedFilers:"search:updatedFilters",updatedCity:"search:updatedCitySearchPosition",updatedClient:"search:updatedClientPosition",updatedSearchPosition:"search:updatedSearchPosition",updatedSearchingNear:"search:updatedSearchingNear",dispensariesReady:"search:dispensariesReady",dispensariesListReady:"search:dispensariesListReady",hideIslands:"map:hideIsland",showIslands:"map:showIsland"}).constant("searchEndPoints",{firstLoad:"/api/firstLoad"}).constant("searchConst",{clientLocation:"cl",cachedSearchOptions:"cso",cachedVendorObjects:"cvo",vendorDataTimeStamp:"vdts",areas:[{label:"Southern California",cities:["Los Angeles","Orange County","Long Beach","Riverside"]},{label:"Northern California",cities:["San Francisco","Sacremento","Berkeley","Davis"]},{label:"Colorado",cities:["Denver","Boulder"]},{cities:["Pheonix"]},{cities:["Washington"]},{cities:["Oregon"]},{cities:["Nevada"]}],"static":{ip:"174.67.230.97",country_code:"US",country_name:"United States",region_code:"CA",region_name:"California",city:"Irvine",zipcode:"92612",search:{lat:33.6378,lng:-117.8095},lat:33.6378,lng:-117.8095,metro_code:"803",area_code:"949"}}).constant("dispensaryConst",{com:{IDz:"",DELETE_MESSAGE:"Are you sure you want to delete this review?",DELETE_MESSAGE_CONFIRM:"DELETE",FOLLOW_MESSAGE:"Follow Dispensary?",FOLLOW_MESSAGE_CONFIRM:"FOLLOW",UNFOLLOW_MESSAGE:"Unfollow Dispensary?",UNFOLLOW_MESSAGE_CONFIRM:"UNFOLLOW",url:{DISPENSARY_DATA_URL:"/api/services/dispensary",REVIEW_DATA_URL:"/services/reviews",SUBMIT_REVIEW_URL:"/review/dispensary"}}}).constant("mock",{userData:{ip:" 132.188.64.218",country_code:"US",country_name:"United States",region_code:"CA",region_name:"California",city:"Irvine",zipcode:"92612",search:{lat:33.6378,lng:-117.8095},lat:33.6378,lng:-117.8095,metro_code:"803",area_code:"949",formated_address:"Irvine, CA 92612"},dispensaries:[{_id:"34946",loc:[{lng:-117.801419,lat:33.658575}],pageInfo:{distance:"2.27",address:"Delivery",avatar_url:"https://d2kxqxnk1i5o9a.cloudfront.net/uploads/avatars/dispensaries/34946/square_10613010_702832476471774_124556521101980418_n.jpg",city:"Irvine",has_testing:!1,is_delivery:!0,name:"3 AM Delivery",phone_number:"949-407-9173",rating:5,reviews_count:5,slug:"3-am-delivery",state:"CA",zip_code:"92606",id:"34946"}},{_id:"35081",loc:[{lng:-117.826656,lat:33.653763}],pageInfo:{distance:"2.23",address:"Delivery",avatar_url:"/images/patient-image-fpo.png",city:"Irvine",has_testing:!1,is_delivery:!0,name:"Tradewinds ($99.00 for 1oz) ",phone_number:"949-877-9163",rating:0,reviews_count:0,slug:"tradewinds",state:"CA",zip_code:"92612",id:"35081"}},{_id:"25323",loc:[{lng:-117.835217,lat:33.647814}],pageInfo:{distance:"2.46",address:"P.O. Box 50491",avatar_url:"https://d2kxqxnk1i5o9a.cloudfront.net/uploads/avatars/dispensaries/25323/square_logo_2.jpg",city:"Irvine",has_testing:!1,is_delivery:!0,name:"Green Viper Delivery ($99.00 for 1OZ)",phone_number:"657-229-5876",rating:5,reviews_count:5,slug:"gva",state:"CA",zip_code:"92617",id:"25323"}},{_id:"16156",loc:[{lng:-117.8282121,lat:33.6588951}],pageInfo:{distance:"2.73",address:"Delivery Service ONLY",avatar_url:"https://d2kxqxnk1i5o9a.cloudfront.net/uploads/avatars/dispensaries/16156/square_16156_LogoFixed_1328047614.png",city:"Irvine",has_testing:!0,is_delivery:!0,name:"SCQM Delivery Turtle Rock 855-420-2420",phone_number:"855-420-2420",rating:4.36842105263158,reviews_count:19,slug:"scqmturtlerock",state:"Ca",zip_code:"92612",id:"16156"}},{_id:"19283",loc:[{lng:-117.794384,lat:33.663657}],pageInfo:{distance:"3",address:"Delivery Only",avatar_url:"https://d2kxqxnk1i5o9a.cloudfront.net/uploads/avatars/dispensaries/19283/square_square_19302_1683714712clones13202609711331618990_1345344441.jpg",city:"Irvine",has_testing:!0,is_delivery:!0,name:"JOLLY FARMS",phone_number:"949-357-0662",rating:5,reviews_count:15,slug:"jolly-farms-delivery-irvine",state:"CA",zip_code:"92618",id:"19283"}},{_id:"34655",loc:[{lng:-117.822985,lat:33.671167}],pageInfo:{distance:"3.67",address:"Delivery Only",avatar_url:"https://d2kxqxnk1i5o9a.cloudfront.net/uploads/avatars/dispensaries/34655/square_lighthouse-night.jpg",city:"Irvine",has_testing:!1,is_delivery:!0,name:"LightHouse Delivery ~ 5G 1/8TH FTP ~ TOP SHELF ~ ",phone_number:"949-431-8235",rating:5,reviews_count:6,slug:"lighthouse-2",state:"CA",zip_code:"92604",id:"34655"}},{_id:"31320",loc:[{lng:-117.788787,lat:33.669624}],pageInfo:{distance:"3.77",address:"Delivery Only",avatar_url:"https://d2kxqxnk1i5o9a.cloudfront.net/uploads/avatars/dispensaries/31320/square_PHDlogo3final.jpeg",city:"Irvine",has_testing:!0,is_delivery:!0,name:"Pacific Hydro Dynamics**HGH SPECIAL**",phone_number:"949-407-9736",rating:4.9625,reviews_count:16,slug:"pacific-hydro-dynamics",state:"CA",zip_code:"92618",id:"31320"}},{_id:"16385",loc:[{lng:-117.850088,lat:33.625501}],pageInfo:{distance:"3.75",address:"Delivery Only",avatar_url:"https://d2kxqxnk1i5o9a.cloudfront.net/uploads/avatars/dispensaries/16385/square_black_avatar.jpg",city:"Newport",has_testing:!0,is_delivery:!0,name:"Rite Greens Delivery - Voted #1 Delivery in OC",phone_number:"714-558-7167",rating:4.63953488372093,reviews_count:258,slug:"one-love-collective-costa-mesa",state:"CA",zip_code:"90704",id:"16385"}},{_id:"30685",loc:[{lng:-117.808459,lat:33.682581}],pageInfo:{distance:"4.67",address:"Delivery Only",avatar_url:"https://d2kxqxnk1i5o9a.cloudfront.net/uploads/avatars/dispensaries/30685/square_Logo2.png",city:"Irvine",has_testing:!0,is_delivery:!0,name:"Organic OC",phone_number:"949-705-6659",rating:5,reviews_count:3,slug:"organic-oc-barranca",state:"CA",zip_code:"92604",id:"30685"}},{_id:"1002622014",loc:[{lng:-117.7925,lat:33.6842}],pageInfo:{distance:"5.05",address:"Deliveries Only",avatar_url:"/images/patient-image-fpo.png",city:"Irvine",has_testing:!1,is_delivery:!0,name:"Soothing Solutions SSWC CBD",phone_number:"714-600-2031",rating:4.70952380952381,reviews_count:84,slug:"rac-solutions",state:"CA",zip_code:"92109",id:"1002622014"}}]}),angular.module("thcmaps.ui").run(["$templateCache",function(e){e.put("components/authmodal/modal.html",'<div class="modal-header"><button type="button" data-dismiss="modal" aria-hidden="true" ng-click="authModal.cancel()" class="close">Ã—</button><h4 ng-hide="!authModal.signup" class="modal-title">Signup<span class="fa fa-sign-in"></span></h4><h4 ng-hide="!authModal.signin" class="modal-title">Sign In<span class="fa fa-sign-in"></span></h4></div><div class="modal-body"><div class="row"><form name="signupForm" ng-hide="!authModal.signup"><div class="col-md-12"><div class="panel panel-default"><div class="panel-body"><div class="row"><div class="col-md-6"><div ng-class="{&quot;has-error&quot;: !signupForm.email.$pristine &amp;&amp; !signupForm.email.$valid}" class="form-group"><label>Email</label><input required="required" ng-model="signupForm.model.email" type="email" name="email" class="form-control"></div><div ng-class="{&quot;has-error&quot; :  !signupForm.username.$pristine &amp;&amp; !signupForm.username.$valid}" class="form-group"><label>Username</label><input type="text" required="required" ng-model="signupForm.model.username" name="username" ng-minlength="4" ng-maxlength="20" class="form-control"></div></div><div class="col-md-6"><div ng-class="{&quot;has-error&quot; :  !signupForm.password.$pristine &amp;&amp; !signupForm.password.$valid}" class="form-group"><label>Password</label><input type="password" required="required" ng-model="signupForm.model.password" name="password" class="form-control"><span ng-show="!signupForm.password.$pristine &amp;&amp; !signupForm.password.$valid" class="help-block danger">Passwords don\'t match.</span></div><div ng-class="{&quot;has-error&quot; :  !signupForm.passwordConf.$pristine &amp;&amp; !signupForm.passwordConf.$valid}" class="form-group"><label>Confirm Password</label><input type="password" required="required" name="passwordConf" ng-model="signupForm.model.passwordConf" class="form-control"><span ng-show="!signupForm.passwordConf.$pristine &amp;&amp; !signupForm.passwordConf.$valid" class="help-block danger">Passwords don\'t match.</span></div></div></div></div></div></div></form><form name="signinForm" ng-hide="!authModal.signin"><div class="col-md-12"><div class="panel panel-default"><div class="panel-body"><div class="row"><div class="col-md-12"><div ng-if="signinForm.hasError" class="alert alert-danger">Invalid email and/or password. Please try again.</div><div ng-class="{&quot;has-error&quot;: !signinForm.email.$pristine &amp;&amp; !signinForm.email.$valid}" class="form-group"><label>Email</label><input required="required" ng-model="signinForm.model.email" type="email" name="email" class="form-control"></div><div ng-class="{&quot;has-error&quot;: !signinForm.password.$pristine &amp;&amp; !signinForm.password.$valid}" class="form-group"><label>Password</label><input type="password" required="required" ng-model="signinForm.model.password" name="password" class="form-control"></div></div></div></div></div></div></form></div></div><div class="modal-footer"><button ng-click="authModal.cancel()" class="btn btn-warning">Cancel</button><button ng-disabled="signupForm.$invalid" ng-click="authModal.submitSignup(signupForm)" ng-hide="!authModal.signup" class="btn btn-primary">Sign up!</button><button ng-disabled="signinForm.$invalid" ng-click="authModal.submitSignin(signinForm)" ng-hide="!authModal.signin" class="btn btn-primary">Sign In</button></div>'),e.put("components/errormodal/modal.html",'<div class="modal-header"><h4 class="modal-title">Oops</h4></div><div class="modal-body"><div class="row"><div class="col-md-12">Something went wrong please try again {{errorModal.msg}}</div></div></div>'),e.put("components/generalwaitmodal/modal.html",'<div class="modal-header"><h4 class="modal-title">Updating...</h4></div><div class="modal-body"><div class="row"><div class="col-md-12">Just a sec while we get that for you.</div></div></div>'),e.put("components/landing/landing.html",'<div class="col-sm-7 col-md-4 col-lg-4 col-xl-4 main-nav hidden-xs scroll-container"><div class="row"><div ng-include="\'components/list/list.html\'" class="col-md-12"></div></div></div><div heightmanager="" padding="0" ng-controller="MapCtrl as map" manage-height="" class="col-xs-12 map-container"><div class="inset-cover"></div><div id="map" class="map"><map latlng="{{map.center}}" zoom="{{map.zoom}}"></map></div></div>'),e.put("components/list/list.html",'<div ng-controller="SearchCtrl as search" class="search-ctrl ctrl"><div class="col-md-12 island list-search-input"><div class="input-group"><div class="input-group-addon"><a ng-click="search.find()"><span class="glyphicon glyphicon-search"></span></a></div><input ng-model="search.searchInput" placeholder="Search by City or Zip" class="form-control"></div></div><div ng-controller="CurrentSearchingCtrl as cSearch" island-visibility="" class="col-md-12 island currently-searching"><div class="btn-container text-center"><a ng-click="cSearch.geoLocate()"><span class="glyphicon glyphicon-screenshot"></span></a></div><div class="searching-text">Searching: <strong>{{cSearch.searchingNear}}</strong></div></div><div ng-controller="ListCtrl as list" ng-class="{&quot;listing-display&quot; : list.infoWindowDisplaying}" island-visibility="" class="col-md-12 island vendor-list"><div ng-if="!list.infoWindowDisplaying" class="list-search"><div class="dropdown"><a ng-href="" class="dropdown-toggle">Region<b class="caret"></b></a><ul class="dropdown-menu"><li ng-repeat-start="area in search.searchAreas" class="dropdown-header">{{area.label}}</li><li><a ng-repeat="city in area.cities" ng-click="search.citySelected(city)" class="location-btn">{{city}}</a></li><li ng-repeat-end="" class="divider"></li></ul></div><div ng-click="$event.stopPropagation()" is-open="search.dropdownIsOpen" class="dropdown"><a href="#" data-toggle="dropdown" class="dropdown-toggle">Filter Options<b class="caret"></b></a><ul class="dropdown-menu"><li class="checkbox"><label><input type="checkbox" ng-model="search.filters.retailLocations" ng-change="search.handleFilterChange()">Retail Locations</label></li><li class="checkbox"><label><input type="checkbox" ng-model="search.filters.deliveries" ng-change="search.handleFilterChange()">Deliveries</label></li><li class="checkbox"><label><input type="checkbox" ng-model="search.filters.testing">Tested</label></li><li class="checkbox"><label><input type="checkbox" ng-model="search.filters.open">Currently Open</label></li><li><a><btn ng-click="search.updateResults($event)" class="btn btn-default col-md-12">Update Results</btn></a></li></ul><li ng-hide="nav.hideMap" class="visible-xs-block"><a id="mShowMap" href="#">Map View</a></li><li ng-hide="nav.hideList" class="visible-xs-block"><a id="mShowList" href="#">List View</a></li><li ng-if="nav.dispensaries"><a href="/doctors/">Find Doctors</a></li><li ng-if="nav.doctors"><a href="/">Find Dispensaries</a></li></div></div><div ng-show="!list.infoWindowDisplaying" class="list-scroll"><vendor-list></vendor-list></div><div ng-if="!list.infoWindowDisplaying" class="pages"><span>Results: {{list.currentResultsDisplayed}}</span><div class="btn-grp pull-right"><div class="btn-container text-center disabled"><a ng-click="list.prevPage()">&lsaquo;</a></div><div class="btn-container text-center"><a ng-click="list.nextPage()">&rsaquo;</a></div></div></div><div ng-if="list.infoWindowDisplaying" class="col-md-12 info-window"><img err-src="/images/patient-image-fpo.png" ng-src="{{list.vendor.avatar_url}}" class="media-object img-thumbnail avatar img-avatar pull-left"><div class="btn-container text-center close-btn"><a ng-click="list.closeInfoWindow()"><span class="glyphicon glyphicon-remove"></span></a></div><div class="col-md-9"><h4 class="business-name visit-link">{{list.vendor.name}}</h4><div ng-if="list.vendor.has_testing" class="has-testing">Lab tested Products available</div><div class="address">{{list.vendor.address}} {{list.vendor.city}} {{list.vendor.state}} {{list.vendor.zip_code}}</div><div class="distance">About <strong>{{list.vendor.distance}}</strong> miles away</div><div class="phone">{{list.vendor.phone_number}}<div class="rating">{{list.vendor.rating | number:2}} ({{list.vendor.reviews_count}}) Reviews</div></div><a ui-sref="main.dispensary({vendor : \'{{list.vendor.slug}}\'})" class="visit-link visit-link-hidden">View dispensary page</a></div></div></div></div>'),e.put("components/list/listitem.html",'<div ng-repeat="item in vendorListData" ng-click="list.selectVendor(item)" class="row listing-container box-container"><div class="col-xs-12"><h4 class="business-name">{{item.pageInfo.name}}<br></h4><span ng-if="item.pageInfo.has_testing" class="testing">Tested products available</span><div class="rating-row"><div class="rating">{{item.pageInfo.rating_num}}</div><rating ng-model="item.pageInfo.rating" max="5" readonly="true" class="star"></rating><div class="count">{{item.pageInfo.reviews_count}} Reviews</div></div><div class="address">{{item.pageInfo.address}} {{item.pageInfo.city}}, {{item.pageInfo.state}}</div></div></div>'),e.put("components/main/main.html",'<div ng-include="\'components/navbar/navbar.html\'"></div><div data-ui-view=""></div>'),e.put("components/navbar/navbar.html",'<nav role="navigation" ng-controller="NavbarCtrl as nav" class="navbar navbar-default navbar-fixed-top"><div class="container-fluid"><div class="navbar-header"><a href="/" class="navbar-brand"><img src="/images/thcmaps.png"></a></div><div id="navbar-collapse" class="collapse navbar-collapse"><div class="btn-group navbar-form navbar-right hidden-xs"><btn ng-click="nav.openSignupModal()" ng-show="!nav.isLoggedIn" class="btn btn-primary">Sign Up</btn><btn ng-click="nav.openSigninModal()" ng-show="!nav.isLoggedIn" class="btn btn-default">Sign In</btn><btn href="/profiles/#{{loginStatus._id}}" ng-show="nav.isLoggedIn" class="btn btn-primary">Home</btn><btn ng-click="nav.logout()" ng-show="nav.isLoggedIn" class="btn btn-default">logout</btn><btn href="#/about" class="btn btn-default">About</btn></div></div></div></nav>'),e.put("components/map/infowindow.html",'<div style="float:left" class="info-window"><div class="info-window-template"><div class="i-window-container"><img err-src="/images/patient-image-fpo.png" ng-src="{{vendor.avatar_url}}" class="media-object img-thumbnail avatar img-avatar"><div class="col-md-9"><h4 class="business-name visit-link">{{vendor.name}}</h4><div ng-if="vendor.has_testing" class="hasTesting">Lab tested Products available</div><div class="address">{{vendor.address}} {{vendor.city}} {{vendor.state}} {{vendor.zip_code}}</div><div class="distance">About <strong>{{vendor.distance}}</strong> miles away</div><div class="phone">{{vendor.phone_number}}<div class="rating">{{vendor.rating | number:2}} ({{vendor.reviews_count}}) Reviews</div></div><a ui-sref="main.dispensary({vendor : \'{{vendor.slug}}\'})" class="visit-link visit-link-hidden">View dispensary page</a></div></div></div></div>'),e.put("components/vendor/vendor.html",'<div ng-controller="VendorCtrl as vendor" class="container vendor-page"><div class="row"><div class="jumbotron dispensary-jumbotron top-spacer-profile col-xs-12 col-sm-8 col-md-9"><a ng-show="!page.has_owner" href="/claimdispensary/{{vendor.vendor.id}}" class="claim-dispensary hidden-xs">Is this your business?</a><div class="row"><ol class="breadcrumb"><li id="pageUpdated">Last updated: <strong>{{vendor.page.last_update}}</strong></li></ol><div class="col-xs-12"><div class="row"><div class="col-xs-12 col-sm-4 col-md-2"><img err-src="/images/patient-image-fpo.png" ng-src="{{vendor.page.avatar_url}}" class="media-object img-thumbnail"></div><div class="col-xs-12 col-sm-8 col-md-10"><div class="row"><div class="col-xs-12"><h4>{{vendor.page.name}}</h4></div></div><div class="row"><div class="col-xs-12"><div class="row"><div class="col-xs-12">Rating : {{vendor.page.rating}}<rating ng-model="(vendor.page.rating_rd)" max="5" readonly="true" on-hover="hoveringOver(value)" on-leave="overStar = null"></rating>({{vendor.page.reviews_count}} reviews)</div></div></div></div></div></div><div class="row top-spacer"><div class="col-xs-12"><div class="panel panel-default"><div class="panel-body"><div class="row"><div class="col-xs-12"><span class="glyphicon glyphicon-earphone"></span><p>{{vendor.page.phone_number}}</p><p><strong>Address</strong> : {{vendor.page.address}} {{vendor.page.city}} {{vendor.page.state}} {{vendor.page.zip_code}}</p></div></div></div></div></div></div></div><div class="col-xs-12 visible-xs-inline-block"><div ng-show="vendor.page.is_open" class="retail-sign"><div role="alert" class="alert alert-success text-center">We\'re open<br>For {{vendor.page.remaining_hours}}.</div></div><div ng-show="!vendor.page.is_open" class="retail-sign"><div role="alert" class="alert alert-danger text-center">Sorry we\'re closed<br>For {{vendor.page.remaining_hours}}.</div></div><div class="panel panel-default"><div class="panel-heading"><h4>Hours</h4><div ng-repeat="day in vendor.page.hours" class="row"><div ng-class="{\'today text-success\' : (day.day_order == vendor.today), \'today text-danger\' : (day.is_today &amp;&amp; ! vendor.page.is_open)}" class="col-xs-12"><span class="day-of-week cap">{{day.day_of_the_week}} :</span><span class="hrs">{{day.opening_time}} - {{day.closing_time}}</span></div></div></div></div></div></div></div><div class="col-sm-4 col-md-3 hidden-xs top-spacer-profile"><div class="panel panel-default"><div class="panel-heading"><h4>Hours</h4><div ng-repeat="day in vendor.page.hours" class="row"><div ng-class="{\'today text-success\' : (day.day_order == vendor.today), \'today text-danger\' : (day.is_today &amp;&amp; ! vendor.page.is_open)}" class="col-xs-12"><span class="day-of-week cap">{{day.day_of_the_week}} :</span><span class="hrs">{{day.opening_time}} - {{day.closing_time}}</span></div></div></div></div><div ng-show="vendor.page.is_open" class="retail-sign"><div role="alert" class="alert alert-success text-center">We\'re open<br>For {{vendor.page.remaining_hours}}.</div></div><div ng-show="!vendor.page.is_open" class="retail-sign"><div role="alert" class="alert alert-danger text-center">Sorry we\'re closed<br>For {{vendor.page.remaining_hours}}.</div></div></div></div><div class="row"><tabset><tab heading="Weed Menu"><div ng-show="vendor.weedMenu.length === 0" class="review-vendorlay top-spacer"><div class="alert alert-success">This vendor has not added any menu items yet. Please check back another time.</div></div><div class="tab-pane active top-spacer col-xs-12"><div ng-show="vendor.categories.indica" class="row"><div class="col-xs-12"><div class="row weed-menu-table-head"><div class="col-xs-12 col-sm-7 weed-menu-table-type">Indica</div><div class="col-xs-2 col-sm-1 text-center"><btn ng-click="predicate = &quot;price_gram&quot;; reverse=!reverse" class="btn btn-xs btn-default">1 G</btn></div><div class="col-xs-2 col-sm-1 text-center"><btn ng-click="predicate = &quot;price_eighth&quot;; reverse=!reverse" class="btn btn-xs btn-default">1/8</btn></div><div class="col-xs-2 col-sm-1 text-center"><btn ng-click="predicate = &quot;price_quarter&quot;; reverse=!reverse" class="btn btn-xs btn-default">1/4</btn></div><div class="col-xs-2 col-sm-1 text-center"><btn ng-click="predicate = &quot;price_half_ounce&quot;; reverse=!reverse" class="btn btn-xs btn-default">1/2</btn></div><div class="col-xs-2 col-sm-1 text-center"><btn ng-click="predicate = &quot;price_ounce&quot;; reverse=!reverse" class="btn btn-xs btn-default">1 OZ</btn></div></div><div ng-repeat="item in vendor.weedMenu | orderBy:predicate:reverse" ng-click="isCollapsed = !isCollapsed" ng-if="item.menu_item_category_id == 1" class="row menu-item"><div class="col-xs-12"><div class="row"><div class="col-xs-12 col-sm-7"><div category="{{item.menu_item_category_id}}" class="pull-left name">{{item.name}}</div><span ng-show="item.image.large || item.image.small" class="glyphicon glyphicon-zoom-in"></span></div><div data="price_gram" class="col-xs-2 col-sm-1 text-center price">{{item.price_gram}}<sup>g</sup></div><div data="price_eighth" class="col-xs-2 col-sm-1 text-center price">{{item.price_eighth}}<sup>1/8</sup></div><div data="price_quarter" class="col-xs-2 col-sm-1 text-center price">{{item.price_quarter}}<sup>1/4</sup></div><div data="price_half_ounce" class="col-xs-2 col-sm-1 text-center price">{{item.price_half_ounce}}<sup>1/2</sup></div><div data="price_ounce" class="col-xs-2 col-sm-1 text-center price">{{item.price_ounce}}<sup>oz</sup></div></div><div ng-show="item.testing.thc" class="row testing-data"><div class="col-xs-7"><span class="thc">THC : {{item.testing.thc}}%</span><span class="cbn">CBN : {{item.testing.cbn}}%</span><span class="cbd">CBD : {{item.testing.cbd}}%</span></div></div><div collapse="!isCollapsed" class="collapse"><div class="row"><div class="col-xs-12"><div ng-show="item.image.large || item.image.small || item.body" class="details row top-spacer"><div class="panel panel-default"><div class="panel-body"><div class="row"><div class="col-xs-12">Last Updated: {{item.updated_at || item.created_at}}</div></div><div class="row"><div ng-show="item.image.large || item.image.small" class="col-xs-6 col-sm-4"><div class="row"><div class="col-md-12"><img ng-src="{{item.image.small || item.image.large}}" class="media-object img-thumbnail"></div></div></div><div ng-show="item.body" class="col-xs-6 col-sm-8 product-description"><div class="row"><div class="col-xs-12">{{item.body}}</div></div></div><div ng-show="item.testing.thc" class="col-xs-12 text-center testing-data-large"><div class="panel panel-warning"><div class="panel-body"><h4 class="thc">THC : {{item.testing.thc}}%</h4><h4 class="cbn">CBN : {{item.testing.cbn}}%</h4><h4 class="cbd">CBD : {{item.testing.cbd}}%</h4></div></div></div></div></div></div></div></div></div></div></div></div></div></div><div ng-show="vendor.categories.sativa" class="row"><div class="col-xs-12"><div class="row weed-menu-table-head"><div class="col-xs-12 col-sm-7 weed-menu-table-type">Sativa</div><div class="col-xs-2 col-sm-1 text-center"><btn ng-click="predicate = &quot;price_gram&quot;; reverse=!reverse" class="btn btn-xs btn-default">1 G</btn></div><div class="col-xs-2 col-sm-1 text-center"><btn ng-click="predicate = &quot;price_eighth&quot;; reverse=!reverse" class="btn btn-xs btn-default">1/8</btn></div><div class="col-xs-2 col-sm-1 text-center"><btn ng-click="predicate = &quot;price_quarter&quot;; reverse=!reverse" class="btn btn-xs btn-default">1/4</btn></div><div class="col-xs-2 col-sm-1 text-center"><btn ng-click="predicate = &quot;price_half_ounce&quot;; reverse=!reverse" class="btn btn-xs btn-default">1/2</btn></div><div class="col-xs-2 col-sm-1 text-center"><btn ng-click="predicate = &quot;price_ounce&quot;; reverse=!reverse" class="btn btn-xs btn-default">1 OZ</btn></div></div><div ng-repeat="item in vendor.weedMenu | orderBy:predicate:reverse" ng-click="isCollapsed = !isCollapsed" ng-if="item.menu_item_category_id == 2" class="row menu-item"><div class="col-xs-12"><div class="row"><div class="col-xs-12 col-sm-7"><div category="{{item.menu_item_category_id}}" class="pull-left name">{{item.name}}</div><span ng-show="item.image.large || item.image.small" class="glyphicon glyphicon-zoom-in"></span></div><div data="price_gram" class="col-xs-2 col-sm-1 text-center price">{{item.price_gram}}<sup>g</sup></div><div data="price_eighth" class="col-xs-2 col-sm-1 text-center price">{{item.price_eighth}}<sup>1/8</sup></div><div data="price_quarter" class="col-xs-2 col-sm-1 text-center price">{{item.price_quarter}}<sup>1/4</sup></div><div data="price_half_ounce" class="col-xs-2 col-sm-1 text-center price">{{item.price_half_ounce}}<sup>1/2</sup></div><div data="price_ounce" class="col-xs-2 col-sm-1 text-center price">{{item.price_ounce}}<sup>oz</sup></div></div><div ng-show="item.testing.thc" class="row testing-data"><div class="col-xs-7"><span class="thc">THC : {{item.testing.thc}}%</span><span class="cbn">CBN : {{item.testing.cbn}}%</span><span class="cbd">CBD : {{item.testing.cbd}}%</span></div></div><div collapse="!isCollapsed" class="collapse"><div class="row"><div class="col-xs-12"><div ng-show="item.image.large || item.image.small || item.body" class="details row top-spacer"><div class="panel panel-default"><div class="panel-body"><div class="row"><div class="col-xs-12">Last Updated: {{item.updated_at || item.created_at}}</div></div><div class="row"><div ng-show="item.image.large || item.image.small" class="col-xs-6 col-sm-4"><div class="row"><div class="col-md-12"><img ng-src="{{item.image.small || item.image.large}}" class="media-object img-thumbnail"></div></div></div><div ng-show="item.body" class="col-xs-6 col-sm-8 product-description"><div class="row"><div class="col-xs-12">{{item.body}}</div></div></div><div ng-show="item.testing.thc" class="col-xs-12 text-center testing-data-large"><div class="panel panel-warning"><div class="panel-body"><h4 class="thc">THC : {{item.testing.thc}}%</h4><h4 class="cbn">CBN : {{item.testing.cbn}}%</h4><h4 class="cbd">CBD : {{item.testing.cbd}}%</h4></div></div></div></div></div></div></div></div></div></div></div></div></div></div><div ng-show="vendor.categories.hybrid" class="row"><div class="col-xs-12"><div class="row weed-menu-table-head"><div class="col-xs-12 col-sm-7 weed-menu-table-type">Hybrid</div><div class="col-xs-2 col-sm-1 text-center"><btn ng-click="predicate = &quot;price_gram&quot;; reverse=!reverse" class="btn btn-xs btn-default">1 G</btn></div><div class="col-xs-2 col-sm-1 text-center"><btn ng-click="predicate = &quot;price_eighth&quot;; reverse=!reverse" class="btn btn-xs btn-default">1/8</btn></div><div class="col-xs-2 col-sm-1 text-center"><btn ng-click="predicate = &quot;price_quarter&quot;; reverse=!reverse" class="btn btn-xs btn-default">1/4</btn></div><div class="col-xs-2 col-sm-1 text-center"><btn ng-click="predicate = &quot;price_half_ounce&quot;; reverse=!reverse" class="btn btn-xs btn-default">1/2</btn></div><div class="col-xs-2 col-sm-1 text-center"><btn ng-click="predicate = &quot;price_ounce&quot;; reverse=!reverse" class="btn btn-xs btn-default">1 OZ</btn></div></div><div ng-repeat="item in vendor.weedMenu | orderBy:predicate:reverse" ng-click="isCollapsed = !isCollapsed" ng-if="item.menu_item_category_id == 3" class="row menu-item"><div class="col-xs-12"><div class="row"><div class="col-xs-12 col-sm-7"><div category="{{item.menu_item_category_id}}" class="pull-left name">{{item.name}}</div><span ng-show="item.image.large || item.image.small" class="glyphicon glyphicon-zoom-in"></span></div><div data="price_gram" class="col-xs-2 col-sm-1 text-center price">{{item.price_gram}}<sup>g</sup></div><div data="price_eighth" class="col-xs-2 col-sm-1 text-center price">{{item.price_eighth}}<sup>1/8</sup></div><div data="price_quarter" class="col-xs-2 col-sm-1 text-center price">{{item.price_quarter}}<sup>1/4</sup></div><div data="price_half_ounce" class="col-xs-2 col-sm-1 text-center price">{{item.price_half_ounce}}<sup>1/2</sup></div><div data="price_ounce" class="col-xs-2 col-sm-1 text-center price">{{item.price_ounce}}<sup>oz</sup></div></div><div ng-show="item.testing.thc" class="row testing-data"><div class="col-xs-7"><span class="thc">THC : {{item.testing.thc}}%</span><span class="cbn">CBN : {{item.testing.cbn}}%</span><span class="cbd">CBD : {{item.testing.cbd}}%</span></div></div><div collapse="!isCollapsed" class="collapse"><div class="row"><div class="col-xs-12"><div ng-show="item.image.large || item.image.small || item.body" class="details row top-spacer"><div class="panel panel-default"><div class="panel-body"><div class="row"><div class="col-xs-12">Last Updated: {{item.updated_at || item.created_at}}</div></div><div class="row"><div ng-show="item.image.large || item.image.small" class="col-xs-6 col-sm-4"><div class="row"><div class="col-md-12"><img ng-src="{{item.image.small || item.image.large}}" class="media-object img-thumbnail"></div></div></div><div ng-show="item.body" class="col-xs-6 col-sm-8 product-description"><div class="row"><div class="col-xs-12">{{item.body}}</div></div></div><div ng-show="item.testing.thc" class="col-xs-12 text-center testing-data-large"><div class="panel panel-warning"><div class="panel-body"><h4 class="thc">THC : {{item.testing.thc}}%</h4><h4 class="cbn">CBN : {{item.testing.cbn}}%</h4><h4 class="cbd">CBD : {{item.testing.cbd}}%</h4></div></div></div></div></div></div></div></div></div></div></div></div></div></div><div ng-show="vendor.categories.wax" class="row"><div class="col-xs-12"><div class="row weed-menu-table-head"><div class="col-xs-12 col-sm-7 weed-menu-table-type">Wax</div><div class="col-xs-2 text-center"><div ng-click="predicate = &quot;price_half_gram&quot;; reverse=!reverse" class="btn btn-xs btn-default">1/2G</div></div><div class="col-xs-2 text-center"><div ng-click="predicate = &quot;price_gram&quot;; reverse=!reverse" class="btn btn-xs btn-default">1G</div></div></div><div ng-repeat="item in vendor.weedMenu | orderBy:predicate:reverse" ng-click="isCollapsed = !isCollapsed" ng-if="item.menu_item_category_id == 13" class="row menu-item"><div class="col-xs-12"><div class="row"><div class="col-xs-12 col-sm-7"><div category="{{item.menu_item_category_id}}" class="pull-left name">{{item.name}}</div><span ng-show="item.image.large || item.image.small" class="glyphicon glyphicon-zoom-in"></span></div><div data="price_half_gram" class="col-xs-2 text-center price">{{item.price_half_gram}}<sup>1/2g</sup></div><div data="price_gram" class="col-xs-2 text-center price">{{item.price_gram}}<sup>g</sup></div></div><div ng-show="item.testing.thc" class="row testing-data"><div class="col-xs-7"><span class="thc">THC : {{item.testing.thc}}%</span><span class="cbn">CBN : {{item.testing.cbn}}%</span><span class="cbd">CBD : {{item.testing.cbd}}%</span></div></div><div collapse="!isCollapsed" class="collapse"><div class="row"><div class="col-xs-12"><div ng-show="item.image.large || item.image.small || item.body" class="details row top-spacer"><div class="panel panel-default"><div class="panel-body"><div class="row"><div class="col-xs-12">Last Updated: {{item.updated_at || item.created_at}}</div></div><div class="row"><div ng-show="item.image.large || item.image.small" class="col-xs-6 col-sm-4"><div class="row"><div class="col-md-12"><img ng-src="{{item.image.small || item.image.large}}" class="media-object img-thumbnail"></div></div></div><div ng-show="item.body" class="col-xs-6 col-sm-8 product-description"><div class="row"><div class="col-xs-12">{{item.body}}</div></div></div><div ng-show="item.testing.thc" class="col-xs-12 text-center testing-data-large"><div class="panel panel-warning"><div class="panel-body"><h4 class="thc">THC : {{item.testing.thc}}%</h4><h4 class="cbn">CBN : {{item.testing.cbn}}%</h4><h4 class="cbd">CBD : {{item.testing.cbd}}%</h4></div></div></div></div></div></div></div></div></div></div></div></div></div></div><div ng-show="vendor.categories.concentrate" class="row"><div class="col-xs-12"><div class="row weed-menu-table-head"><div class="col-xs-12 col-sm-7 weed-menu-table-type">Concentrate</div><div class="col-xs-2 text-center"><div ng-click="predicate = &quot;price_half_gram&quot;; reverse=!reverse" class="btn btn-xs btn-default">1/2G</div></div><div class="col-xs-2 text-center"><div ng-click="predicate = &quot;price_gram&quot;; reverse=!reverse" class="btn btn-xs btn-default">1G</div></div></div><div ng-repeat="item in vendor.weedMenu | orderBy:predicate:reverse" ng-click="isCollapsed = !isCollapsed" ng-if="item.menu_item_category_id == 5" class="row menu-item"><div class="col-xs-12"><div class="row"><div class="col-xs-12 col-sm-7"><div category="{{item.menu_item_category_id}}" class="pull-left name">{{item.name}}</div><span ng-show="item.image.large || item.image.small" class="glyphicon glyphicon-zoom-in"></span></div><div data="price_half_gram" class="col-xs-2 text-center price">{{item.price_half_gram}}<sup>1/2g</sup></div><div data="price_gram" class="col-xs-2 text-center price">{{item.price_gram}}<sup>g</sup></div></div><div ng-show="item.testing.thc" class="row testing-data"><div class="col-xs-7"><span class="thc">THC : {{item.testing.thc}}%</span><span class="cbn">CBN : {{item.testing.cbn}}%</span><span class="cbd">CBD : {{item.testing.cbd}}%</span></div></div><div collapse="!isCollapsed" class="collapse"><div class="row"><div class="col-xs-12"><div ng-show="item.image.large || item.image.small || item.body" class="details row top-spacer"><div class="panel panel-default"><div class="panel-body"><div class="row"><div class="col-xs-12">Last Updated: {{item.updated_at || item.created_at}}</div></div><div class="row"><div ng-show="item.image.large || item.image.small" class="col-xs-6 col-sm-4"><div class="row"><div class="col-md-12"><img ng-src="{{item.image.small || item.image.large}}" class="media-object img-thumbnail"></div></div></div><div ng-show="item.body" class="col-xs-6 col-sm-8 product-description"><div class="row"><div class="col-xs-12">{{item.body}}</div></div></div><div ng-show="item.testing.thc" class="col-xs-12 text-center testing-data-large"><div class="panel panel-warning"><div class="panel-body"><h4 class="thc">THC : {{item.testing.thc}}%</h4><h4 class="cbn">CBN : {{item.testing.cbn}}%</h4><h4 class="cbd">CBD : {{item.testing.cbd}}%</h4></div></div></div></div></div></div></div></div></div></div></div></div></div></div><div ng-show="vendor.categories.edibles" class="row"><div class="col-xs-12"><div class="row weed-menu-table-head"><div class="col-xs-12 col-sm-7 weed-menu-table-type">Edibles</div><div class="col-xs-1"><div ng-click="predicate = &quot;price_unit&quot;; reverse=!reverse" class="btn btn-sm btn-default">Price</div></div></div><div ng-repeat="item in vendor.weedMenu | orderBy:predicate:reverse" ng-click="isCollapsed = !isCollapsed" ng-if="item.menu_item_category_id == 4" class="row menu-item"><div class="col-xs-12"><div class="row"><div class="col-xs-12 col-sm-7"><div category="{{item.menu_item_category_id}}" class="pull-left name">{{item.name}}</div><span ng-show="item.image.large || item.image.small" class="glyphicon glyphicon-zoom-in"></span></div><div data="price_unit" class="col-xs-1 text-center price">{{item.price_unit}}<sup>ea.</sup></div></div><div ng-show="item.testing.thc" class="row testing-data"><div class="col-xs-7"><span class="thc">THC : {{item.testing.thc}}%</span><span class="cbn">CBN : {{item.testing.cbn}}%</span><span class="cbd">CBD : {{item.testing.cbd}}%</span></div></div><div collapse="!isCollapsed" class="collapse"><div class="row"><div class="col-xs-12"><div ng-show="item.image.large || item.image.small || item.body" class="details row top-spacer"><div class="panel panel-default"><div class="panel-body"><div class="row"><div class="col-xs-12">Last Updated: {{item.updated_at || item.created_at}}</div></div><div class="row"><div ng-show="item.image.large || item.image.small" class="col-xs-6 col-sm-4"><div class="row"><div class="col-md-12"><img ng-src="{{item.image.small || item.image.large}}" class="media-object img-thumbnail"></div></div></div><div ng-show="item.body" class="col-xs-6 col-sm-8 product-description"><div class="row"><div class="col-xs-12">{{item.body}}</div></div></div><div ng-show="item.testing.thc" class="col-xs-12 text-center testing-data-large"><div class="panel panel-warning"><div class="panel-body"><h4 class="thc">THC : {{item.testing.thc}}%</h4><h4 class="cbn">CBN : {{item.testing.cbn}}%</h4><h4 class="cbd">CBD : {{item.testing.cbd}}%</h4></div></div></div></div></div></div></div></div></div></div></div></div></div></div><div ng-show="vendor.categories.drinks" class="row"><div class="col-xs-12"><div class="row weed-menu-table-head"><div class="col-xs-12 col-sm-7 weed-menu-table-type">Drinks</div><div class="col-xs-1"><div ng-click="predicate = &quot;price_unit&quot;; reverse=!reverse" class="btn btn-sm btn-default">Price</div></div></div><div ng-repeat="item in vendor.weedMenu | orderBy:predicate:reverse" ng-click="isCollapsed = !isCollapsed" ng-if="item.menu_item_category_id == 6" class="row menu-item"><div class="col-xs-12"><div class="row"><div class="col-xs-12 col-sm-7"><div category="{{item.menu_item_category_id}}" class="pull-left name">{{item.name}}</div><span ng-show="item.image.large || item.image.small" class="glyphicon glyphicon-zoom-in"></span></div><div data="price_unit" class="col-xs-1 text-center price">{{item.price_unit}}<sup>ea.</sup></div></div><div ng-show="item.testing.thc" class="row testing-data"><div class="col-xs-7"><span class="thc">THC : {{item.testing.thc}}%</span><span class="cbn">CBN : {{item.testing.cbn}}%</span><span class="cbd">CBD : {{item.testing.cbd}}%</span></div></div><div collapse="!isCollapsed" class="collapse"><div class="row"><div class="col-xs-12"><div ng-show="item.image.large || item.image.small || item.body" class="details row top-spacer"><div class="panel panel-default"><div class="panel-body"><div class="row"><div class="col-xs-12">Last Updated: {{item.updated_at || item.created_at}}</div></div><div class="row"><div ng-show="item.image.large || item.image.small" class="col-xs-6 col-sm-4"><div class="row"><div class="col-md-12"><img ng-src="{{item.image.small || item.image.large}}" class="media-object img-thumbnail"></div></div></div><div ng-show="item.body" class="col-xs-6 col-sm-8 product-description"><div class="row"><div class="col-xs-12">{{item.body}}</div></div></div><div ng-show="item.testing.thc" class="col-xs-12 text-center testing-data-large"><div class="panel panel-warning"><div class="panel-body"><h4 class="thc">THC : {{item.testing.thc}}%</h4><h4 class="cbn">CBN : {{item.testing.cbn}}%</h4><h4 class="cbd">CBD : {{item.testing.cbd}}%</h4></div></div></div></div></div></div></div></div></div></div></div></div></div></div><div ng-show="vendor.categories.clones" class="row"><div class="col-xs-12"><div class="row weed-menu-table-head"><div class="col-xs-12 col-sm-7 weed-menu-table-type">Clones</div><div class="col-xs-1"><div ng-click="predicate = &quot;price_unit&quot;; reverse=!reverse" class="btn btn-sm btn-default">Price</div></div></div><div ng-repeat="item in vendor.weedMenu | orderBy:predicate:reverse" ng-click="isCollapsed = !isCollapsed" ng-if="item.menu_item_category_id == 7" class="row menu-item"><div class="col-xs-12"><div class="row"><div class="col-xs-12 col-sm-7"><div category="{{item.menu_item_category_id}}" class="pull-left name">{{item.name}}</div><span ng-show="item.image.large || item.image.small" class="glyphicon glyphicon-zoom-in"></span></div><div data="price_unit" class="col-xs-1 text-center price">{{item.price_unit}}<sup>ea.</sup></div></div><div ng-show="item.testing.thc" class="row testing-data"><div class="col-xs-7"><span class="thc">THC : {{item.testing.thc}}%</span><span class="cbn">CBN : {{item.testing.cbn}}%</span><span class="cbd">CBD : {{item.testing.cbd}}%</span></div></div><div collapse="!isCollapsed" class="collapse"><div class="row"><div class="col-xs-12"><div ng-show="item.image.large || item.image.small || item.body" class="details row top-spacer"><div class="panel panel-default"><div class="panel-body"><div class="row"><div class="col-xs-12">Last Updated: {{item.updated_at || item.created_at}}</div></div><div class="row"><div ng-show="item.image.large || item.image.small" class="col-xs-6 col-sm-4"><div class="row"><div class="col-md-12"><img ng-src="{{item.image.small || item.image.large}}" class="media-object img-thumbnail"></div></div></div><div ng-show="item.body" class="col-xs-6 col-sm-8 product-description"><div class="row"><div class="col-xs-12">{{item.body}}</div></div></div><div ng-show="item.testing.thc" class="col-xs-12 text-center testing-data-large"><div class="panel panel-warning"><div class="panel-body"><h4 class="thc">THC : {{item.testing.thc}}%</h4><h4 class="cbn">CBN : {{item.testing.cbn}}%</h4><h4 class="cbd">CBD : {{item.testing.cbd}}%</h4></div></div></div></div></div></div></div></div></div></div></div></div></div></div><div ng-show="vendor.categories.seeds" class="row"><div class="col-xs-12"><div class="row weed-menu-table-head"><div class="col-xs-12 col-sm-7 weed-menu-table-type">Seeds</div><div class="col-xs-1"><div ng-click="predicate = &quot;price_unit&quot;; reverse=!reverse" class="btn btn-sm btn-default">Price</div></div></div><div ng-repeat="item in vendor.weedMenu | orderBy:predicate:reverse" ng-click="isCollapsed = !isCollapsed" ng-if="item.menu_item_category_id == 8" class="row menu-item"><div class="col-xs-12"><div class="row"><div class="col-xs-12 col-sm-7"><div category="{{item.menu_item_category_id}}" class="pull-left name">{{item.name}}</div><span ng-show="item.image.large || item.image.small" class="glyphicon glyphicon-zoom-in"></span></div><div data="price_unit" class="col-xs-1 text-center price">{{item.price_unit}}<sup>ea.</sup></div></div><div ng-show="item.testing.thc" class="row testing-data"><div class="col-xs-7"><span class="thc">THC : {{item.testing.thc}}%</span><span class="cbn">CBN : {{item.testing.cbn}}%</span><span class="cbd">CBD : {{item.testing.cbd}}%</span></div></div><div collapse="!isCollapsed" class="collapse"><div class="row"><div class="col-xs-12"><div ng-show="item.image.large || item.image.small || item.body" class="details row top-spacer"><div class="panel panel-default"><div class="panel-body"><div class="row"><div class="col-xs-12">Last Updated: {{item.updated_at || item.created_at}}</div></div><div class="row"><div ng-show="item.image.large || item.image.small" class="col-xs-6 col-sm-4"><div class="row"><div class="col-md-12"><img ng-src="{{item.image.small || item.image.large}}" class="media-object img-thumbnail"></div></div></div><div ng-show="item.body" class="col-xs-6 col-sm-8 product-description"><div class="row"><div class="col-xs-12">{{item.body}}</div></div></div><div ng-show="item.testing.thc" class="col-xs-12 text-center testing-data-large"><div class="panel panel-warning"><div class="panel-body"><h4 class="thc">THC : {{item.testing.thc}}%</h4><h4 class="cbn">CBN : {{item.testing.cbn}}%</h4><h4 class="cbd">CBD : {{item.testing.cbd}}%</h4></div></div></div></div></div></div></div></div></div></div></div></div></div></div><div ng-show="vendor.categories.tincture" class="row"><div class="col-xs-12"><div class="row weed-menu-table-head"><div class="col-xs-12 col-sm-7 weed-menu-table-type">Tincture</div><div class="col-xs-1"><div ng-click="predicate = &quot;price_unit&quot;; reverse=!reverse" class="btn btn-sm btn-default">Price</div></div></div><div ng-repeat="item in vendor.weedMenu | orderBy:predicate:reverse" ng-click="isCollapsed = !isCollapsed" ng-if="item.menu_item_category_id == 9" class="row menu-item"><div class="col-xs-12"><div class="row"><div class="col-xs-12 col-sm-7"><div category="{{item.menu_item_category_id}}" class="pull-left name">{{item.name}}</div><span ng-show="item.image.large || item.image.small" class="glyphicon glyphicon-zoom-in"></span></div><div data="price_unit" class="col-xs-1 text-center price">{{item.price_unit}}<sup>ea.</sup></div></div><div ng-show="item.testing.thc" class="row testing-data"><div class="col-xs-7"><span class="thc">THC : {{item.testing.thc}}%</span><span class="cbn">CBN : {{item.testing.cbn}}%</span><span class="cbd">CBD : {{item.testing.cbd}}%</span></div></div><div collapse="!isCollapsed" class="collapse"><div class="row"><div class="col-xs-12"><div ng-show="item.image.large || item.image.small || item.body" class="details row top-spacer"><div class="panel panel-default"><div class="panel-body"><div class="row"><div class="col-xs-12">Last Updated: {{item.updated_at || item.created_at}}</div></div><div class="row"><div ng-show="item.image.large || item.image.small" class="col-xs-6 col-sm-4"><div class="row"><div class="col-md-12"><img ng-src="{{item.image.small || item.image.large}}" class="media-object img-thumbnail"></div></div></div><div ng-show="item.body" class="col-xs-6 col-sm-8 product-description"><div class="row"><div class="col-xs-12">{{item.body}}</div></div></div><div ng-show="item.testing.thc" class="col-xs-12 text-center testing-data-large"><div class="panel panel-warning"><div class="panel-body"><h4 class="thc">THC : {{item.testing.thc}}%</h4><h4 class="cbn">CBN : {{item.testing.cbn}}%</h4><h4 class="cbd">CBD : {{item.testing.cbd}}%</h4></div></div></div></div></div></div></div></div></div></div></div></div></div></div><div ng-show="vendor.categories.gear" class="row"><div class="col-xs-12"><div class="row weed-menu-table-head"><div class="col-xs-12 col-sm-7 weed-menu-table-type">Gear</div><div class="col-xs-1"><div ng-click="predicate = &quot;price_unit&quot;; reverse=!reverse" class="btn btn-sm btn-default">Price</div></div></div><div ng-repeat="item in vendor.weedMenu | orderBy:predicate:reverse" ng-click="isCollapsed = !isCollapsed" ng-if="item.menu_item_category_id == 10" class="row menu-item"><div class="col-xs-12"><div class="row"><div class="col-xs-12 col-sm-7"><div category="{{item.menu_item_category_id}}" class="pull-left name">{{item.name}}</div><span ng-show="item.image.large || item.image.small" class="glyphicon glyphicon-zoom-in"></span></div><div data="price_unit" class="col-xs-1 text-center price">{{item.price_unit}}<sup>ea.</sup></div></div><div ng-show="item.testing.thc" class="row testing-data"><div class="col-xs-7"><span class="thc">THC : {{item.testing.thc}}%</span><span class="cbn">CBN : {{item.testing.cbn}}%</span><span class="cbd">CBD : {{item.testing.cbd}}%</span></div></div><div collapse="!isCollapsed" class="collapse"><div class="row"><div class="col-xs-12"><div ng-show="item.image.large || item.image.small || item.body" class="details row top-spacer"><div class="panel panel-default"><div class="panel-body"><div class="row"><div class="col-xs-12">Last Updated: {{item.updated_at || item.created_at}}</div></div><div class="row"><div ng-show="item.image.large || item.image.small" class="col-xs-6 col-sm-4"><div class="row"><div class="col-md-12"><img ng-src="{{item.image.small || item.image.large}}" class="media-object img-thumbnail"></div></div></div><div ng-show="item.body" class="col-xs-6 col-sm-8 product-description"><div class="row"><div class="col-xs-12">{{item.body}}</div></div></div><div ng-show="item.testing.thc" class="col-xs-12 text-center testing-data-large"><div class="panel panel-warning"><div class="panel-body"><h4 class="thc">THC : {{item.testing.thc}}%</h4><h4 class="cbn">CBN : {{item.testing.cbn}}%</h4><h4 class="cbd">CBD : {{item.testing.cbd}}%</h4></div></div></div></div></div></div></div></div></div></div></div></div></div></div><div ng-show="vendor.categories.topical" class="row"><div class="col-xs-12"><div class="row weed-menu-table-head"><div class="col-xs-12 col-sm-7 weed-menu-table-type">Topical</div><div class="col-xs-1"><div ng-click="predicate = &quot;price_unit&quot;; reverse=!reverse" class="btn btn-sm btn-default">Price</div></div></div><div ng-repeat="item in vendor.weedMenu | orderBy:predicate:reverse" ng-click="isCollapsed = !isCollapsed" ng-if="item.menu_item_category_id == 11" class="row menu-item"><div class="col-xs-12"><div class="row"><div class="col-xs-12 col-sm-7"><div category="{{item.menu_item_category_id}}" class="pull-left name">{{item.name}}</div><span ng-show="item.image.large || item.image.small" class="glyphicon glyphicon-zoom-in"></span></div><div data="price_unit" class="col-xs-1 text-center price">{{item.price_unit}}<sup>ea.</sup></div></div><div ng-show="item.testing.thc" class="row testing-data"><div class="col-xs-7"><span class="thc">THC : {{item.testing.thc}}%</span><span class="cbn">CBN : {{item.testing.cbn}}%</span><span class="cbd">CBD : {{item.testing.cbd}}%</span></div></div><div collapse="!isCollapsed" class="collapse"><div class="row"><div class="col-xs-12"><div ng-show="item.image.large || item.image.small || item.body" class="details row top-spacer"><div class="panel panel-default"><div class="panel-body"><div class="row"><div class="col-xs-12">Last Updated: {{item.updated_at || item.created_at}}</div></div><div class="row"><div ng-show="item.image.large || item.image.small" class="col-xs-6 col-sm-4"><div class="row"><div class="col-md-12"><img ng-src="{{item.image.small || item.image.large}}" class="media-object img-thumbnail"></div></div></div><div ng-show="item.body" class="col-xs-6 col-sm-8 product-description"><div class="row"><div class="col-xs-12">{{item.body}}</div></div></div><div ng-show="item.testing.thc" class="col-xs-12 text-center testing-data-large"><div class="panel panel-warning"><div class="panel-body"><h4 class="thc">THC : {{item.testing.thc}}%</h4><h4 class="cbn">CBN : {{item.testing.cbn}}%</h4><h4 class="cbd">CBD : {{item.testing.cbd}}%</h4></div></div></div></div></div></div></div></div></div></div></div></div></div></div><div ng-show="vendor.categories.preroll" class="row"><div class="col-xs-12"><div class="row weed-menu-table-head"><div class="col-xs-12 col-sm-7 weed-menu-table-type">Prerolled</div><div class="col-xs-1"><div ng-click="predicate = &quot;price_unit&quot;; reverse=!reverse" class="btn btn-sm btn-default">Price</div></div></div><div ng-repeat="item in vendor.weedMenu | orderBy:predicate:reverse" ng-click="open($event, name)" ng-mouseleave="close($event, name)" ng-if="item.menu_item_category_id == 12" class="row menu-item"><div class="col-xs-12"><div class="row"><div class="col-xs-12 col-sm-7"><div category="{{item.menu_item_category_id}}" class="pull-left name">{{item.name}}</div><span ng-show="item.image.large || item.image.small" class="glyphicon glyphicon-zoom-in"></span></div><div data="price_unit" class="col-xs-1 text-center price">{{item.price_unit}}<sup>ea.</sup></div></div><div ng-show="item.testing.thc" class="row testing-data"><div class="col-xs-7"><span class="thc">THC : {{item.testing.thc}}%</span><span class="cbn">CBN : {{item.testing.cbn}}%</span><span class="cbd">CBD : {{item.testing.cbd}}%</span></div></div><div collapse="!isCollapsed" class="collapse"><div class="row"><div class="col-xs-12"><div ng-show="item.image.large || item.image.small || item.body" class="details row top-spacer"><div class="panel panel-default"><div class="panel-body"><div class="row"><div class="col-xs-12">Last Updated: {{item.updated_at || item.created_at}}</div></div><div class="row"><div ng-show="item.image.large || item.image.small" class="col-xs-6 col-sm-4"><div class="row"><div class="col-md-12"><img ng-src="{{item.image.small || item.image.large}}" class="media-object img-thumbnail"></div></div></div><div ng-show="item.body" class="col-xs-6 col-sm-8 product-description"><div class="row"><div class="col-xs-12">{{item.body}}</div></div></div><div ng-show="item.testing.thc" class="col-xs-12 text-center testing-data-large"><div class="panel panel-warning"><div class="panel-body"><h4 class="thc">THC : {{item.testing.thc}}%</h4><h4 class="cbn">CBN : {{item.testing.cbn}}%</h4><h4 class="cbd">CBD : {{item.testing.cbd}}%</h4></div></div></div></div></div></div></div></div></div></div></div></div></div></div></div></tab><tab heading="Review Dispensary" class="hidden-xs"><div ng-show="!vendor.isLoggedIn" class="review-vendorlay top-spacer"><div class="alert alert-success">Please login to post a review.</div></div><div class="review top-spacer"><div ng-show="vendor.hasReviewed" class="row"><div class="alert alert-success">Thanks for posting your review.</div></div><div ng-show="vendor.isLoggedIn &amp;&amp; !vendor.hasReviewed" class="row"><div class="col-sm-5"><div class="row"><div class="col-md-3 hidden-sm"><img src="/images/patient-image-fpo.png" alt="" class="media-object img-thumbnail"></div><div class="col-sm-12 col-md-8"><div ng-class="{&quot;alert-danger&quot;:formErr}" role="alert" class="alert"><div class="row rating-row"><div class="col-sm-12 review-user-name"></div></div><div id="ratingToolTip" data-toggle="tooltip" title="Please rate this dispensary." class="row rating-row"><div class="col-sm-6 rating-title">Quality : &nbsp;</div><div class="col-sm-6 stars-container"><rating ng-model="vendor.review.rating_q" max="5" readonly="flase" on-hover="" on-leave="overStar = null" class="rating"></rating></div></div><div class="row rating-row"><div class="col-sm-6 rating-title">Price : &nbsp;</div><div class="col-sm-6 stars-container"><rating ng-model="vendor.review.rating_p" max="5" readonly="flase" required="required" on-hover="hoveringOver(value)" on-leave="overStar = null" class="rating"></rating></div></div><div class="row rating-row"><div class="col-sm-6 rating-title">Staff : &nbsp;</div><div class="col-sm-6 stars-container"><rating ng-model="vendor.review.rating_s" max="5" readonly="flase" on-hover="hoveringOver(value)" on-leave="overStar = null" class="rating"></rating></div></div><div class="row rating-row"><div class="col-sm-6 rating-title">Location : &nbsp;</div><div class="col-sm-6 stars-container"><rating ng-model="vendor.review.rating_l" max="5" readonly="flase" on-hover="hoveringOver(value)" on-leave="overStar = null" class="rating"></rating></div></div></div></div></div></div><div class="col-sm-7"><div class="review-area"><form id="reviewForm" role="form" data="undefined" dispensaryname="undefined" dispensaryid="undefined" class="form-horizontal"><div class="form-group col-md-12"><input ng-model="vendor.review.title" type="text" placeholder="Title your review!" class="form-control"></div><div id="reviewBodyGroup" class="form-group col-md-12"><textarea ng-model="vendor.review.body" rows="7" class="form-control"></textarea></div><button type="button" id="" ng-click="vendor.review.submitReview()" class="btn btn-success pull-right">Submit Review</button></form></div></div></div></div></tab><tab heading="Reviews"><div ng-show="!vendor.hasReviews" class="review-vendorlay top-spacer"><div class="alert alert-success">This vendor has no reviews yet. But it is rated {{vendor.page.rating}}/5 with {{vendor.page.reviews_count}} reviews</div></div><div ng-show="vendor.hasReviews" class="review-vendorlay top-spacer"><div ng-repeat="review in vendor.reviews" class="row"><div class="col-xs-12 col-md-5"><div class="row"><div class="hidden-xs col-sm-3"><img src="/images/patient-image-fpo.png" alt="" class="media-object img-thumbnail"></div><div class="col-xs-12 col-sm-8"><div class="row review-user-name"><div class="col-xs-12"><a ng-href="/profiles/{{review.user.id}}">{{review.user.name}}</a></div></div><div class="row"><div class="col-xs-12 rating-title">Overall :<rating ng-model="review.review.overall" max="5" readonly="true" on-hover="" on-leave="overStar = null" class="rating"></rating></div></div><div class="row"><div class="col-xs-12 rating-title">Quality :<rating ng-model="review.review.quality" max="5" readonly="true" on-hover="" on-leave="overStar = null" class="rating"></rating></div></div><div class="row"><div class="col-xs-12 rating-title">Price :<rating ng-model="review.review.price" max="5" readonly="true" on-hover="" on-leave="overStar = null" class="rating"></rating></div></div><div class="row"><div class="col-xs-12 rating-title">Staff :<rating ng-model="review.review.staff" max="5" readonly="true" on-hover="" on-leave="overStar = null" class="rating"></rating></div></div><div class="row"><div class="col-xs-12 rating-title">Location :<rating ng-model="review.review.location" max="5" readonly="true" on-hover="" on-leave="overStar = null" class="rating"></rating></div></div></div></div></div><div class="col-xs-12 col-md-7"></div><ul role="menu" style="min-width:0" class="dropdown-menu pull-right"></ul><li class="text-right"><div class="review-area"></div></li></div><div class="row"><div class="col-md-12"><div class="well"><div class="row"><div class="col-md-offset-6 col-md-4"><p class="text-right">Sign in or Sign up to reply to this comment.</p></div><div class="col-md-2"><div class="btn-group"><button data-toggle="modal" data-target="#signUpModal" class="btn btn-success">Sign Up</button><button id="login-btn" data-toggle="modal" data-target="#signInModal" class="btn btn-primary">Sign In</button></div></div></div></div></div></div><div class="row"><div class="col-md-11"><h3>Be the first to review this dispensary!</h3></div></div></div></tab></tabset></div></div>')
}]),angular.module("thcmaps").constant("progressBarConst",{max:100}).constant("dispensary",{com:{ID:"",DELETE_MESSAGE:"Are you sure you want to delete this review?",DELETE_MESSAGE_CONFIRM:"DELETE",FOLLOW_MESSAGE:"Follow Dispensary?",FOLLOW_MESSAGE_CONFIRM:"FOLLOW",UNFOLLOW_MESSAGE:"Unfollow Dispensary?",UNFOLLOW_MESSAGE_CONFIRM:"UNFOLLOW",dispensaryData:{},now:(new Date).getTime(),url:{DISPENSARY_DATA_URL:"/services/dispensary",REVIEW_DATA_URL:"/services/reviews",SUBMIT_REVIEW_URL:"/review/dispensary",SIGNUP_URL:"/signup",SIGNIN_URL:"/signin"}}}).constant("geolocationMsgs",{"errors.location.unsupportedBrowser":"Browser does not support location services","errors.location.permissionDenied":"You have rejected access to your location","errors.location.positionUnavailable":"Unable to determine your location","errors.location.timeout":"Service timeout has been reached"}),angular.module("thcmaps").config(["$stateProvider",function(e){e.state("main",{abstact:!0,templateUrl:"components/main/main.html",controller:"MainCtrl",resolve:{isLoggedIn:["AuthStatusService",function(e){return e.authorize()}]}})}]).controller("MainCtrl",["$rootScope","isLoggedIn",function(e,s){200===s.status&&(e.isLoggedIn=!0)}]),angular.module("thcmaps.ui").controller("NavbarCtrl",["$rootScope","$scope","$state","authModal","AuthService",function(e,s,i,a,t){var l=this;l.state=i.current.name,l.map="main.map"===i.current.name?!0:!1,l.dispensaries="main.map"===i.current.name?!0:!1,l.openSignupModal=a.openSignup,l.openSigninModal=a.openSignin,l.logout=function(){t.logout().then(function(s){console.log(s),e.isLoggedIn=!1},function(e){console.log(e)})},e.$watch("isLoggedIn",function(){l.isLoggedIn=e.isLoggedIn})}]),angular.module("thcmaps.ui").config(["$stateProvider",function(e){e.state("main.map",{url:"/",templateUrl:"components/landing/landing.html",controller:"LandingCtrl"}).state("main.map.page",{url:"p/:page",templateUrl:"components/landing/landing.html",controller:"LandingCtrl"})}]).controller("LandingCtrl",function(){}),angular.module("thcmaps.ui").controller("SearchCtrl",["$scope","$rootScope","$state","ErrorModalService","SearchService","LocalStorageService","searchConst","evt",function(e,s,i,a,t,l,n,d){var c=this,o=l.getData(n.searchOptions),r=l.getData(n.clientLocation),v=l.getData(n.cachedVendorObjects),m=new Date(l.getData(n.vendorDataTimeStamp)),g=function(){t.getClientLocation().then(function(e){console.log(e),o=l.setData(n.searchOptions,c.filters),r=l.setData(n.clientLocation,e.data),s.$broadcast(d.init.position,e.data)},function(e){console.log(e," :114 search.controller.js"),s.$broadcast(d.init.position,n.static)}),t.getSimpleVendors().then(function(e){s.$broadcast(d.dispensariesReady,e.data)},function(){})},p=function(){if(t.setUpdatedSearchPosition({lng:r.lng,lat:r.lat}),m){var e,i=m.getMinutes(),a=(new Date).getMinutes();if(15>i?e=15-a:30>i?e=30-a:45>i?e=45-a:59>=i&&(e=59-a),e>=1)return void u()}var l,n={lat:r.lat,lng:r.lng};s.$broadcast(d.init.position,r),c.filters.open&&(l=w()),t.getFilteredSimpleVendors(n,l,c.filters).then(function(e){s.$broadcast(d.dispensariesReady,e.data),h(e.data)},function(e){console.log("error : ",e)})},u=function(){s.$broadcast(d.init.position,r),s.$broadcast(d.dispensariesReady,b())},h=function(e){for(var s=v||{},i=c.filters,a=(i.testing,i.open),t=(i.retailLocations,i.deliveries,0);t<e.length;t++){var d="vendor_"+e[t]._id;s[d]=e[t],s[d].filters={},s[d].filters.testing=e[t].pageInfo.has_testing,s[d].filters.open=a||s[d].filters.open,s[d].filters.retailLocations=!!e[t].pageInfo.is_delivery,s[d].filters.deliveries=e[t].pageInfo.is_delivery}v=l.setData(n.cachedVendorObjects,s),m=l.setData(n.vendorDataTimeStamp,new Date)},b=function(){function e(e,s){function a(){s?e.filters[s]&&i.push(e):i.push(e)}l||n?l&&n?e.filters.testing&&e.filters.open&&a():(l&&e.filters.testing&&a(),n&&e.filters.open&&a()):a()}var s,i=[],a=c.filters.deliveries,t=c.filters.retailLocations,l=c.filters.testing,n=c.filters.open;for(var d in v)a&&t?(s=v[d],e(v[d])):a?e(v[d],"deliveries"):t&&e(v[d],"retailLocations");return i},w=function(){var e=new Date,s=e.getMinutes()<10?"0"+e.getMinutes().toString():e.getMinutes().toString(),i=e.getHours()<4?(e.getHours()+24).toString():e.getHours().toString();return{day:e.getHours()<4?e.getDay()-1:e.getDay(),mtime:i+s}},f=function(){var e,a={lat:e?e.lat:r.lat,lng:e?e.lng:r.lng},l=c.filters.open?w():null;t.getFilteredListVendors(a,l,c.filters,i.params.page).then(function(e){s.$broadcast(d.dispensariesListReady,e.data)},function(e){console.log("error : ",e)})},x=function(e,i){t.getInfoWindowData(i).then(function(e){s.$broadcast(d.map.markerDataReady,e.data)},function(){})};e.$on("$stateChangeSuccess",function(){("main.map"===i.current.name||"main.map.page"===i.current.name)&&f(null,null)}),e.$on(d.init.position,f),e.$on(d.map.markerClicked,x),e.$on(d.listingClicked,x),e.$on(d.updatedSearchingNear,function(e,s){r.formatted_address=s.searchingNear,r.lng=s.loc.lng()||s.loc.lng,r.lat=s.loc.lat()||s.loc.lat,t.setUpdateSearchAddress({formatted_address:s.searchingNear,lat:r.lat,lng:r.lng}),l.setData(n.clientLocation,r),c.updateResults(null,{lng:r.lng,lat:r.lat})}),e.$on(d.updatedSearchPosition,function(e,s){t.setUpdatedSearchPosition({lng:s.longitude,lat:s.latitude})}),e.$on(d.updatedFilters,function(){}),e.$on(d.draggened,function(e,s){console.log("search.controller : draggened"),c.updateResults(null,{lng:s.lng,lat:s.lat})}),c.searchingNear="",c.searchInput="",c.dropdownIsOpen=!1,c.filters={retailLocations:!0,deliveries:!0,testing:!1,open:!1},c.toggleModelVal=function(e){c.filters[e]=!c.filters[e]},c.updateResults=function(e,a){var v={lat:a?a.lat:r.lat,lng:a?a.lng:r.lng},m=c.filters.open?w():null;c.dropdownIsOpen=!1,o=l.setData(n.searchOptions,c.filters),t.getFilteredSimpleVendors(v,m,c.filters).then(function(e){h(e.data),s.$broadcast(d.dispensariesReady,b())}),t.getFilteredListVendors(v,m,c.filters,i.params.page).then(function(e){s.$broadcast(d.dispensariesListReady,e.data)},function(e){console.log("error : ",e)})},c.searchAreas=n.areas,c.citySelected=function(e){s.$broadcast(d.updatedCity,e)},c.location=r,c.handleFilterChange=function(){c.filters.deliveries||c.filters.retailLocations||(a.openError("You must select either Deliveries or Retail Locations"),c.filters.deliveries=!0,c.filters.retailLocations=!0)},c.find=function(){s.$broadcast(d.updatedCity,c.searchInput)};var y=function(){r&&o?(c.filters=o,p()):(console.log("basic bitch"),g())};y()}]),angular.module("thcmaps.ui").controller("CurrentSearchingCtrl",["$rootScope","$scope","evt","searchConst","GeoLocation","GeneralWaitService","LocalStorageService",function(e,s,i,a,t,l,n){var d=this;d.searchingNear="";var c=new google.maps.Geocoder,o=function(s){var a;console.log(typeof s),a="string"!=typeof s?{location:new google.maps.LatLng(s.latitude,s.longitude)}:{address:s},c.geocode(a,function(a,t){if(t===google.maps.GeocoderStatus.OK){for(var l=a[0].address_components,n="",c="",o=0;o<l.length;o++)"administrative_area_level_1"===l[o].types[0]&&(c=l[o].short_name),"locality"===l[o].types[0]&&(n=l[o].long_name);d.searchingNear="string"!=typeof s?n+", "+c:s+", "+c,e.$broadcast(i.updatedSearchingNear,{searchingNear:d.searchingNear,loc:a[0].geometry.location})}else console.log("Geocode was not successful for the following reason: "+t)})};d.geoLocate=function(){var s=l.openWait();t.getClientLocation().then(function(a){e.$broadcast(i.updatedSearchPosition,a.coords),o(a.coords),s.close()})},s.$on(i.updatedCity,function(e,s){o(s)}),function(){var e=n.getData(a.clientLocation),t=function(e){d.searchingNear=e.formatted_address};return e?void t(e):void s.$on(i.init.position,function(e,s){t(s)})}()}]),angular.module("thcmaps").controller("progressBarCtrl",["$rootScope","progressBarConst",function(e,s){var i=this;i.max=s.max,i.dynamic=100}]),angular.module("thcmaps.ui.map").controller("MapCtrl",["$scope","$window","$compile","$http","$templateCache","evt","mock",function(e,s,i,a,t,l,n){var d,c=this;c.zoom=12,c.markers=n.dispensaries,c.center=n.dispensaries[0].loc[0],c.vendor={avatar:"",name:"",address:"",city:"",state:"",zip:"",phone:"",distance:"",rating:"",count:""},c.infowindow={visible:!0,position:n.dispensaries[0].loc},c.dispensaries=n.dispensaries,c.onMarkerClick=function(e,s,i){console.log(i);var a=i.pageInfo;console.log(c.vendor.name),d.close(e.map,e),c.vendor={avatar:a.avatar_url,name:a.name,address:a.address,city:a.city,zip:a.zip_code,state:a.state,phone:a.phone,distance:a.distance,rating:a.rating,count:a.count}},e.$on(l.init.pos,function(e,s){c.center={latitude:s.latitude,longitude:s.longitude}})}]),angular.module("thcmaps.ui.list").controller("ListCtrl",["$rootScope","$scope","$state","evt",function(e,s,i,a){var t=this,l=function(){var e=10*(t.currentPage+1),s=10*(t.currentPage+1)-9;return s+" - "+e};t.selectVendor=function(s){e.$broadcast(a.listingClicked,s._id)},t.nextPage=function(){t.currentPage++,i.go("main.map.page",{page:t.currentPage}),t.currentResultsDisplayed=l()},t.prevPage=function(){0!==t.currentPage&&(1===t.currentPage?(t.currentPage--,i.go("main.map")):(t.currentPage--,i.go("main.map.page",{page:t.currentPage})),t.currentResultsDisplayed=l())},t.currentPage=Number(i.params.page)||0,t.currentResultsDisplayed=l(),t.closeInfoWindow=function(){t.infoWindowDisplaying=!1,e.$broadcast(a.closeInfoWindow)},s.$on(a.map.markerDataReady,function(e,s){t.vendor=s.pageInfo,t.infoWindowDisplaying=!0}),e.$on("stateChangeSuccess",function(){console.log(i.current)})}]),angular.module("thcmaps.ui.vendor").config(["$stateProvider",function(e){e.state("main.dispensary",{url:"/disp/:vendor",templateUrl:"components/vendor/vendor.html",controller:"MainCtrl"})}]).controller("VendorCtrl",["$rootScope","$scope","$state","VendorService","authModal",function(e,s,i,a,t){var l=this;l.isLoggedIn=e.isLoggedIn;var n=function(e){for(var s={},i=0;i<e.length;i++)switch(e[i].menu_item_category_id){case 1:s.indica=!0;break;case 2:s.sativa=!0;break;case 3:s.hybrid=!0;break;case 4:s.edibles=!0;break;case 5:s.concentrate=!0;break;case 6:s.drinks=!0;break;case 7:s.clones=!0;break;case 8:s.seeds=!0;break;case 9:s.tincture=!0;break;case 10:s.gear=!0;break;case 11:s.topical=!0;break;case 12:s.preroll=!0;break;case 13:s.wax=!0}return s};l.reviews=[],l.hasReviews=!1,l.openSignupModal=t.openSignup,l.openSigninModal=t.openSignin;var d=new Date;l.today=d.getDay().toString(),l.review={},l.review.submitReview=function(){if(console.log(l.review),!(l.review.rating_q&&l.review.rating_p&&l.review.rating_s&&l.review.rating_l))return void(l.formErr=!0);var e=l.review,s={dispensaryId:l.id,dispensaryName:l.page.name,quality:e.rating_q,price:e.rating_p,staff:e.rating_s,location:e.rating_l,title:e.title,body:e.body,slug:i.params.vendor};a.postReview(s).then(function(e){console.log(e),l.hasReviewed=!0},function(e){console.log(e)})},a.getBasicData(i.params.vendor).then(function(e){if(e.data.pageInfo.rating=Math.round(10*Number(e.data.pageInfo.rating))/10,e.data.pageInfo.rating_rd=Math.floor(Number(e.data.pageInfo.rating)),l.categories=n(e.data.weedMenu),l.weedMenu=e.data.weedMenu,l.page=e.data.pageInfo,l.id=e.data._id,console.log(e.data),0!==e.data.reviews.length){for(var s=[],i=0;i<e.data.reviews.length;i++)s.push(e.data.reviews[i].reviewId);console.log(s),a.getReviews(s).then(function(e){console.log(e),l.reviews=e.data,console.log("151"),l.hasReviews=!0,console.log(e.data)},function(e){console.log(e)})}},function(e){console.log(e)}),e.$watch("isLoggedIn",function(){l.isLoggedIn=e.isLoggedIn})}]),angular.module("thcmaps.ui.Modal").controller("authModalCtrl",function(){}).controller("authModalInstanceCtrl",["$rootScope","$scope","$modalInstance","$http","items","AuthService",function(e,s,i,a,t,l){var n=this;n.model={email:null,password:null,passwordConf:null,username:null},n.signup=t.isSignup,n.signin=t.isSignin,n.submitSignup=function(s){var a=n.model.password,t=n.model.passwordConf;console.log(s),a===t?(console.log(s.model),l.signup(s.model).then(function(){e.isLoggedIn=!0,i.dismiss("cancel")},function(e){s.$valid=!1,s.email.$valid=!1,s.password.$valid=!1,s.hasError=!0,console.log(e)})):(s.password.$valid=!1,s.passwordConf.$valid=!1)},n.submitSignin=function(s){console.log("sign-in"),console.log(s),a.post("/api/signin",s.model).then(function(s){console.log("signing response : ",s),e.isLoggedIn=!0,i.dismiss("cancel")},function(e){s.$valid=!1,s.email.$valid=!1,s.password.$valid=!1,s.hasError=!0,console.log("error : ",e)})},n.cancel=function(){i.dismiss("cancel")}}]),function(e){try{e=angular.module("thcmapsSpa")}catch(s){e=angular.module("thcmapsSpa",[])}e.run(["$templateCache",function(e){e.put("components/errormodal/modal.html",'<div class="modal-header"><h4 class="modal-title">Oops</h4></div><div class="modal-body"><div class="row"><div class="col-md-12">Something went wrong please try again {{errorModal.msg}}</div></div></div>')}])}(),function(e){try{e=angular.module("thcmapsSpa")}catch(s){e=angular.module("thcmapsSpa",[])}e.run(["$templateCache",function(e){e.put("components/generalwaitmodal/modal.html",'<div class="modal-header"><h4 class="modal-title">Updating...</h4></div><div class="modal-body"><div class="row"><div class="col-md-12">Just a sec while we get that for you.</div></div></div>')}])}(),angular.module("thcmaps.ui").factory("AuthService",["$http",function(e){return{signin:function(s){return e.post("/api/signin",s)},signup:function(s){return e.post("/api/signup",s)},logout:function(){return e.get("/api/logout")}}}]),angular.module("thcmaps.ui").factory("AuthStatusService",["$http",function(e){return{authorize:function(){return e.get("/api/authstatus")}}}]),angular.module("thcmaps.ui.Modal").factory("authModal",["$http","$modal","dispensary",function(e,s){var i={isSignup:!1,isSignin:!1};return{openSignup:function(){s.open({templateUrl:"components/authmodal/modal.html",controller:"authModalInstanceCtrl as authModal",resolve:{items:function(){return i.isSignup=!0,i.isSignin=!1,i}}})},openSignin:function(){s.open({templateUrl:"components/authmodal/modal.html",controller:"authModalInstanceCtrl as authModal",size:"sm",resolve:{items:function(){return i.isSignin=!0,i.isSignup=!1,i}}})}}}]),angular.module("thcmaps.ui.Modal").factory("GeneralWaitService",["$modal",function(e){return{openWait:function(){return e.open({templateUrl:"components/generalwaitmodal/modal.html",controller:"generalWaitModalInstanceCtrl as waitModal",size:"sm",resolve:{items:function(){}}})}}}]),angular.module("thcmaps.ui.Modal").factory("ErrorModalService",["$modal",function(e){return{openError:function(s){return e.open({templateUrl:"components/errormodal/modal.html",controller:"errorModalInstanceCtrl as errorModal",size:"sm",resolve:{items:function(){return console.log(s),s}}})}}}]),angular.module("thcmaps").factory("GeoLocation",["$q","$rootScope","$window","geolocationMsgs",function(e,s,i,a){return{getClientLocation:function(t){var l=e.defer();return i.navigator&&i.navigator.geolocation?i.navigator.geolocation.getCurrentPosition(function(e){l.resolve(e)},function(e){switch(e.code){case 1:s.$broadcast("search:error",a["errors.location.permissionDenied"]),l.reject(a["errors.location.permissionDenied"]);break;case 2:s.$broadcast("search:error",a["errors.location.positionUnavailable"]),l.reject(a["errors.location.positionUnavailable"]);break;case 3:s.$broadcast("search:error",a["errors.location.timeout"]),l.reject(a["errors.location.timeout"])}},t):(s.$broadcast("error",a["errors.location.unsupportedBrowser"]),l.reject(a["errors.location.unsupportedBrowser"])),l.promise}}}]),angular.module("thcmaps.ui").factory("LocalStorageService",function(){return{setData:function(e,s){return localStorage.setItem(e,JSON.stringify(s)),s},getData:function(e){var s=localStorage.getItem(e);return JSON.parse(s)}}}),angular.module("thcmaps.ui").factory("SearchService",["$http",function(e){return{getClientLocation:function(){return e.get("/api/search/location")},getSimpleVendors:function(){return e.get("/api/search/simplevendors")},getFilteredSimpleVendors:function(s,i,a){return e.get("/api/search/filteredvendors",{params:{position:s,openOptions:i,filters:a}})},getFilteredListVendors:function(s,i,a,t){return e.get("api/search/filteredvendorlist",{params:{position:s,openOptions:i,filters:a,skip:t}})},getInfoWindowData:function(s){return e.get("/api/search/infowindowdata",{params:{id:s}})},setUpdatedSearchPosition:function(s){return e.post("/api/search/setsearchhome",s)},setUpdateSearchAddress:function(s){return e.post("/api/search/setsearchaddress",s)}}}]),angular.module("thcmaps.ui").factory("VendorService",["$http",function(e){return{getBasicData:function(s){var i=new Date;return e.get("/api/vendor",{params:{dispensary:s,cTime:i.getTime()}})},postReview:function(s){return s.date=(new Date).getTime(),e.post("/api/review",s)},getReviews:function(s){return e.get("/api/review",{params:[s]})}}}]),function(e){try{e=angular.module("thcmapsSpa")}catch(s){e=angular.module("thcmapsSpa",[])}e.run(["$templateCache",function(e){e.put("components/authmodal/modal.html",'<div class="modal-header"><button type="button" data-dismiss="modal" aria-hidden="true" ng-click="authModal.cancel()" class="close">Ã—</button><h4 ng-hide="!authModal.signup" class="modal-title">Signup<span class="fa fa-sign-in"></span></h4><h4 ng-hide="!authModal.signin" class="modal-title">Sign In<span class="fa fa-sign-in"></span></h4></div><div class="modal-body"><div class="row"><form name="signupForm" ng-hide="!authModal.signup"><div class="col-md-12"><div class="panel panel-default"><div class="panel-body"><div class="row"><div class="col-md-6"><div ng-class="{&quot;has-error&quot;: !signupForm.email.$pristine &amp;&amp; !signupForm.email.$valid}" class="form-group"><label>Email</label><input required="required" ng-model="signupForm.model.email" type="email" name="email" class="form-control"></div><div ng-class="{&quot;has-error&quot; :  !signupForm.username.$pristine &amp;&amp; !signupForm.username.$valid}" class="form-group"><label>Username</label><input type="text" required="required" ng-model="signupForm.model.username" name="username" ng-minlength="4" ng-maxlength="20" class="form-control"></div></div><div class="col-md-6"><div ng-class="{&quot;has-error&quot; :  !signupForm.password.$pristine &amp;&amp; !signupForm.password.$valid}" class="form-group"><label>Password</label><input type="password" required="required" ng-model="signupForm.model.password" name="password" class="form-control"><span ng-show="!signupForm.password.$pristine &amp;&amp; !signupForm.password.$valid" class="help-block danger">Passwords don\'t match.</span></div><div ng-class="{&quot;has-error&quot; :  !signupForm.passwordConf.$pristine &amp;&amp; !signupForm.passwordConf.$valid}" class="form-group"><label>Confirm Password</label><input type="password" required="required" name="passwordConf" ng-model="signupForm.model.passwordConf" class="form-control"><span ng-show="!signupForm.passwordConf.$pristine &amp;&amp; !signupForm.passwordConf.$valid" class="help-block danger">Passwords don\'t match.</span></div></div></div></div></div></div></form><form name="signinForm" ng-hide="!authModal.signin"><div class="col-md-12"><div class="panel panel-default"><div class="panel-body"><div class="row"><div class="col-md-12"><div ng-if="signinForm.hasError" class="alert alert-danger">Invalid email and/or password. Please try again.</div><div ng-class="{&quot;has-error&quot;: !signinForm.email.$pristine &amp;&amp; !signinForm.email.$valid}" class="form-group"><label>Email</label><input required="required" ng-model="signinForm.model.email" type="email" name="email" class="form-control"></div><div ng-class="{&quot;has-error&quot;: !signinForm.password.$pristine &amp;&amp; !signinForm.password.$valid}" class="form-group"><label>Password</label><input type="password" required="required" ng-model="signinForm.model.password" name="password" class="form-control"></div></div></div></div></div></div></form></div></div><div class="modal-footer"><button ng-click="authModal.cancel()" class="btn btn-warning">Cancel</button><button ng-disabled="signupForm.$invalid" ng-click="authModal.submitSignup(signupForm)" ng-hide="!authModal.signup" class="btn btn-primary">Sign up!</button><button ng-disabled="signinForm.$invalid" ng-click="authModal.submitSignin(signinForm)" ng-hide="!authModal.signin" class="btn btn-primary">Sign In</button></div>')}])}(),function(e){try{e=angular.module("thcmapsSpa")}catch(s){e=angular.module("thcmapsSpa",[])}e.run(["$templateCache",function(e){e.put("components/errormodal/modal.html",'<div class="modal-header"><h4 class="modal-title">Oops</h4></div><div class="modal-body"><div class="row"><div class="col-md-12">Something went wrong please try again {{errorModal.msg}}</div></div></div>')}])}(),function(e){try{e=angular.module("thcmapsSpa")}catch(s){e=angular.module("thcmapsSpa",[])}e.run(["$templateCache",function(e){e.put("components/generalwaitmodal/modal.html",'<div class="modal-header"><h4 class="modal-title">Updating...</h4></div><div class="modal-body"><div class="row"><div class="col-md-12">Just a sec while we get that for you.</div></div></div>')}])}(),function(e){try{e=angular.module("thcmapsSpa")}catch(s){e=angular.module("thcmapsSpa",[])}e.run(["$templateCache",function(e){e.put("components/landing/landing.html",'<div class="col-sm-7 col-md-4 col-lg-4 col-xl-4 main-nav hidden-xs scroll-container"><div class="row"><div ng-include="\'components/list/list.html\'" class="col-md-12"></div></div></div><div heightmanager="" padding="0" ng-controller="MapCtrl as map" manage-height="" class="col-xs-12 map-container"><div class="inset-cover"></div><div id="map" class="map"><map latlng="{{map.center}}" zoom="{{map.zoom}}"></map></div></div>')}])}(),function(e){try{e=angular.module("thcmapsSpa")}catch(s){e=angular.module("thcmapsSpa",[])}e.run(["$templateCache",function(e){e.put("components/list/list.html",'<div ng-controller="SearchCtrl as search" class="search-ctrl ctrl"><div class="col-md-12 island list-search-input"><div class="input-group"><div class="input-group-addon"><a ng-click="search.find()"><span class="glyphicon glyphicon-search"></span></a></div><input ng-model="search.searchInput" placeholder="Search by City or Zip" class="form-control"></div></div><div ng-controller="CurrentSearchingCtrl as cSearch" island-visibility="" class="col-md-12 island currently-searching"><div class="btn-container text-center"><a ng-click="cSearch.geoLocate()"><span class="glyphicon glyphicon-screenshot"></span></a></div><div class="searching-text">Searching: <strong>{{cSearch.searchingNear}}</strong></div></div><div ng-controller="ListCtrl as list" ng-class="{&quot;listing-display&quot; : list.infoWindowDisplaying}" island-visibility="" class="col-md-12 island vendor-list"><div ng-if="!list.infoWindowDisplaying" class="list-search"><div class="dropdown"><a ng-href="" class="dropdown-toggle">Region<b class="caret"></b></a><ul class="dropdown-menu"><li ng-repeat-start="area in search.searchAreas" class="dropdown-header">{{area.label}}</li><li><a ng-repeat="city in area.cities" ng-click="search.citySelected(city)" class="location-btn">{{city}}</a></li><li ng-repeat-end="" class="divider"></li></ul></div><div ng-click="$event.stopPropagation()" is-open="search.dropdownIsOpen" class="dropdown"><a href="#" data-toggle="dropdown" class="dropdown-toggle">Filter Options<b class="caret"></b></a><ul class="dropdown-menu"><li class="checkbox"><label><input type="checkbox" ng-model="search.filters.retailLocations" ng-change="search.handleFilterChange()">Retail Locations</label></li><li class="checkbox"><label><input type="checkbox" ng-model="search.filters.deliveries" ng-change="search.handleFilterChange()">Deliveries</label></li><li class="checkbox"><label><input type="checkbox" ng-model="search.filters.testing">Tested</label></li><li class="checkbox"><label><input type="checkbox" ng-model="search.filters.open">Currently Open</label></li><li><a><btn ng-click="search.updateResults($event)" class="btn btn-default col-md-12">Update Results</btn></a></li></ul><li ng-hide="nav.hideMap" class="visible-xs-block"><a id="mShowMap" href="#">Map View</a></li><li ng-hide="nav.hideList" class="visible-xs-block"><a id="mShowList" href="#">List View</a></li><li ng-if="nav.dispensaries"><a href="/doctors/">Find Doctors</a></li><li ng-if="nav.doctors"><a href="/">Find Dispensaries</a></li></div></div><div ng-show="!list.infoWindowDisplaying" class="list-scroll"><vendor-list></vendor-list></div><div ng-if="!list.infoWindowDisplaying" class="pages"><span>Results: {{list.currentResultsDisplayed}}</span><div class="btn-grp pull-right"><div class="btn-container text-center disabled"><a ng-click="list.prevPage()">&lsaquo;</a></div><div class="btn-container text-center"><a ng-click="list.nextPage()">&rsaquo;</a></div></div></div><div ng-if="list.infoWindowDisplaying" class="col-md-12 info-window"><img err-src="/images/patient-image-fpo.png" ng-src="{{list.vendor.avatar_url}}" class="media-object img-thumbnail avatar img-avatar pull-left"><div class="btn-container text-center close-btn"><a ng-click="list.closeInfoWindow()"><span class="glyphicon glyphicon-remove"></span></a></div><div class="col-md-9"><h4 class="business-name visit-link">{{list.vendor.name}}</h4><div ng-if="list.vendor.has_testing" class="has-testing">Lab tested Products available</div><div class="address">{{list.vendor.address}} {{list.vendor.city}} {{list.vendor.state}} {{list.vendor.zip_code}}</div><div class="distance">About <strong>{{list.vendor.distance}}</strong> miles away</div><div class="phone">{{list.vendor.phone_number}}<div class="rating">{{list.vendor.rating | number:2}} ({{list.vendor.reviews_count}}) Reviews</div></div><a ui-sref="main.dispensary({vendor : \'{{list.vendor.slug}}\'})" class="visit-link visit-link-hidden">View dispensary page</a></div></div></div></div>')}])}(),function(e){try{e=angular.module("thcmapsSpa")}catch(s){e=angular.module("thcmapsSpa",[])}e.run(["$templateCache",function(e){e.put("components/list/listitem.html",'<div ng-repeat="item in vendorListData" ng-click="list.selectVendor(item)" class="row listing-container box-container"><div class="col-xs-12"><h4 class="business-name">{{item.pageInfo.name}}<br></h4><span ng-if="item.pageInfo.has_testing" class="testing">Tested products available</span><div class="rating-row"><div class="rating">{{item.pageInfo.rating_num}}</div><rating ng-model="item.pageInfo.rating" max="5" readonly="true" class="star"></rating><div class="count">{{item.pageInfo.reviews_count}} Reviews</div></div><div class="address">{{item.pageInfo.address}} {{item.pageInfo.city}}, {{item.pageInfo.state}}</div></div></div>')}])}(),function(e){try{e=angular.module("thcmapsSpa")}catch(s){e=angular.module("thcmapsSpa",[])}e.run(["$templateCache",function(e){e.put("components/main/main.html",'<div ng-include="\'components/navbar/navbar.html\'"></div><div data-ui-view=""></div>')}])}(),function(e){try{e=angular.module("thcmapsSpa")}catch(s){e=angular.module("thcmapsSpa",[])}e.run(["$templateCache",function(e){e.put("components/map/infowindow.html",'<div style="float:left" class="info-window"><div class="info-window-template"><div class="i-window-container"><img err-src="/images/patient-image-fpo.png" ng-src="{{vendor.avatar_url}}" class="media-object img-thumbnail avatar img-avatar"><div class="col-md-9"><h4 class="business-name visit-link">{{vendor.name}}</h4><div ng-if="vendor.has_testing" class="hasTesting">Lab tested Products available</div><div class="address">{{vendor.address}} {{vendor.city}} {{vendor.state}} {{vendor.zip_code}}</div><div class="distance">About <strong>{{vendor.distance}}</strong> miles away</div><div class="phone">{{vendor.phone_number}}<div class="rating">{{vendor.rating | number:2}} ({{vendor.reviews_count}}) Reviews</div></div><a ui-sref="main.dispensary({vendor : \'{{vendor.slug}}\'})" class="visit-link visit-link-hidden">View dispensary page</a></div></div></div></div>')}])}(),function(e){try{e=angular.module("thcmapsSpa")}catch(s){e=angular.module("thcmapsSpa",[])}e.run(["$templateCache",function(e){e.put("components/navbar/navbar.html",'<nav role="navigation" ng-controller="NavbarCtrl as nav" class="navbar navbar-default navbar-fixed-top"><div class="container-fluid"><div class="navbar-header"><a href="/" class="navbar-brand"><img src="/images/thcmaps.png"></a></div><div id="navbar-collapse" class="collapse navbar-collapse"><div class="btn-group navbar-form navbar-right hidden-xs"><btn ng-click="nav.openSignupModal()" ng-show="!nav.isLoggedIn" class="btn btn-primary">Sign Up</btn><btn ng-click="nav.openSigninModal()" ng-show="!nav.isLoggedIn" class="btn btn-default">Sign In</btn><btn href="/profiles/#{{loginStatus._id}}" ng-show="nav.isLoggedIn" class="btn btn-primary">Home</btn><btn ng-click="nav.logout()" ng-show="nav.isLoggedIn" class="btn btn-default">logout</btn><btn href="#/about" class="btn btn-default">About</btn></div></div></div></nav>')}])}(),function(e){try{e=angular.module("thcmapsSpa")}catch(s){e=angular.module("thcmapsSpa",[])}e.run(["$templateCache",function(e){e.put("components/vendor/vendor.html",'<div ng-controller="VendorCtrl as vendor" class="container vendor-page"><div class="row"><div class="jumbotron dispensary-jumbotron top-spacer-profile col-xs-12 col-sm-8 col-md-9"><a ng-show="!page.has_owner" href="/claimdispensary/{{vendor.vendor.id}}" class="claim-dispensary hidden-xs">Is this your business?</a><div class="row"><ol class="breadcrumb"><li id="pageUpdated">Last updated: <strong>{{vendor.page.last_update}}</strong></li></ol><div class="col-xs-12"><div class="row"><div class="col-xs-12 col-sm-4 col-md-2"><img err-src="/images/patient-image-fpo.png" ng-src="{{vendor.page.avatar_url}}" class="media-object img-thumbnail"></div><div class="col-xs-12 col-sm-8 col-md-10"><div class="row"><div class="col-xs-12"><h4>{{vendor.page.name}}</h4></div></div><div class="row"><div class="col-xs-12"><div class="row"><div class="col-xs-12">Rating : {{vendor.page.rating}}<rating ng-model="(vendor.page.rating_rd)" max="5" readonly="true" on-hover="hoveringOver(value)" on-leave="overStar = null"></rating>({{vendor.page.reviews_count}} reviews)</div></div></div></div></div></div><div class="row top-spacer"><div class="col-xs-12"><div class="panel panel-default"><div class="panel-body"><div class="row"><div class="col-xs-12"><span class="glyphicon glyphicon-earphone"></span><p>{{vendor.page.phone_number}}</p><p><strong>Address</strong> : {{vendor.page.address}} {{vendor.page.city}} {{vendor.page.state}} {{vendor.page.zip_code}}</p></div></div></div></div></div></div></div><div class="col-xs-12 visible-xs-inline-block"><div ng-show="vendor.page.is_open" class="retail-sign"><div role="alert" class="alert alert-success text-center">We\'re open<br>For {{vendor.page.remaining_hours}}.</div></div><div ng-show="!vendor.page.is_open" class="retail-sign"><div role="alert" class="alert alert-danger text-center">Sorry we\'re closed<br>For {{vendor.page.remaining_hours}}.</div></div><div class="panel panel-default"><div class="panel-heading"><h4>Hours</h4><div ng-repeat="day in vendor.page.hours" class="row"><div ng-class="{\'today text-success\' : (day.day_order == vendor.today), \'today text-danger\' : (day.is_today &amp;&amp; ! vendor.page.is_open)}" class="col-xs-12"><span class="day-of-week cap">{{day.day_of_the_week}} :</span><span class="hrs">{{day.opening_time}} - {{day.closing_time}}</span></div></div></div></div></div></div></div><div class="col-sm-4 col-md-3 hidden-xs top-spacer-profile"><div class="panel panel-default"><div class="panel-heading"><h4>Hours</h4><div ng-repeat="day in vendor.page.hours" class="row"><div ng-class="{\'today text-success\' : (day.day_order == vendor.today), \'today text-danger\' : (day.is_today &amp;&amp; ! vendor.page.is_open)}" class="col-xs-12"><span class="day-of-week cap">{{day.day_of_the_week}} :</span><span class="hrs">{{day.opening_time}} - {{day.closing_time}}</span></div></div></div></div><div ng-show="vendor.page.is_open" class="retail-sign"><div role="alert" class="alert alert-success text-center">We\'re open<br>For {{vendor.page.remaining_hours}}.</div></div><div ng-show="!vendor.page.is_open" class="retail-sign"><div role="alert" class="alert alert-danger text-center">Sorry we\'re closed<br>For {{vendor.page.remaining_hours}}.</div></div></div></div><div class="row"><tabset><tab heading="Weed Menu"><div ng-show="vendor.weedMenu.length === 0" class="review-vendorlay top-spacer"><div class="alert alert-success">This vendor has not added any menu items yet. Please check back another time.</div></div><div class="tab-pane active top-spacer col-xs-12"><div ng-show="vendor.categories.indica" class="row"><div class="col-xs-12"><div class="row weed-menu-table-head"><div class="col-xs-12 col-sm-7 weed-menu-table-type">Indica</div><div class="col-xs-2 col-sm-1 text-center"><btn ng-click="predicate = &quot;price_gram&quot;; reverse=!reverse" class="btn btn-xs btn-default">1 G</btn></div><div class="col-xs-2 col-sm-1 text-center"><btn ng-click="predicate = &quot;price_eighth&quot;; reverse=!reverse" class="btn btn-xs btn-default">1/8</btn></div><div class="col-xs-2 col-sm-1 text-center"><btn ng-click="predicate = &quot;price_quarter&quot;; reverse=!reverse" class="btn btn-xs btn-default">1/4</btn></div><div class="col-xs-2 col-sm-1 text-center"><btn ng-click="predicate = &quot;price_half_ounce&quot;; reverse=!reverse" class="btn btn-xs btn-default">1/2</btn></div><div class="col-xs-2 col-sm-1 text-center"><btn ng-click="predicate = &quot;price_ounce&quot;; reverse=!reverse" class="btn btn-xs btn-default">1 OZ</btn></div></div><div ng-repeat="item in vendor.weedMenu | orderBy:predicate:reverse" ng-click="isCollapsed = !isCollapsed" ng-if="item.menu_item_category_id == 1" class="row menu-item"><div class="col-xs-12"><div class="row"><div class="col-xs-12 col-sm-7"><div category="{{item.menu_item_category_id}}" class="pull-left name">{{item.name}}</div><span ng-show="item.image.large || item.image.small" class="glyphicon glyphicon-zoom-in"></span></div><div data="price_gram" class="col-xs-2 col-sm-1 text-center price">{{item.price_gram}}<sup>g</sup></div><div data="price_eighth" class="col-xs-2 col-sm-1 text-center price">{{item.price_eighth}}<sup>1/8</sup></div><div data="price_quarter" class="col-xs-2 col-sm-1 text-center price">{{item.price_quarter}}<sup>1/4</sup></div><div data="price_half_ounce" class="col-xs-2 col-sm-1 text-center price">{{item.price_half_ounce}}<sup>1/2</sup></div><div data="price_ounce" class="col-xs-2 col-sm-1 text-center price">{{item.price_ounce}}<sup>oz</sup></div></div><div ng-show="item.testing.thc" class="row testing-data"><div class="col-xs-7"><span class="thc">THC : {{item.testing.thc}}%</span><span class="cbn">CBN : {{item.testing.cbn}}%</span><span class="cbd">CBD : {{item.testing.cbd}}%</span></div></div><div collapse="!isCollapsed" class="collapse"><div class="row"><div class="col-xs-12"><div ng-show="item.image.large || item.image.small || item.body" class="details row top-spacer"><div class="panel panel-default"><div class="panel-body"><div class="row"><div class="col-xs-12">Last Updated: {{item.updated_at || item.created_at}}</div></div><div class="row"><div ng-show="item.image.large || item.image.small" class="col-xs-6 col-sm-4"><div class="row"><div class="col-md-12"><img ng-src="{{item.image.small || item.image.large}}" class="media-object img-thumbnail"></div></div></div><div ng-show="item.body" class="col-xs-6 col-sm-8 product-description"><div class="row"><div class="col-xs-12">{{item.body}}</div></div></div><div ng-show="item.testing.thc" class="col-xs-12 text-center testing-data-large"><div class="panel panel-warning"><div class="panel-body"><h4 class="thc">THC : {{item.testing.thc}}%</h4><h4 class="cbn">CBN : {{item.testing.cbn}}%</h4><h4 class="cbd">CBD : {{item.testing.cbd}}%</h4></div></div></div></div></div></div></div></div></div></div></div></div></div></div><div ng-show="vendor.categories.sativa" class="row"><div class="col-xs-12"><div class="row weed-menu-table-head"><div class="col-xs-12 col-sm-7 weed-menu-table-type">Sativa</div><div class="col-xs-2 col-sm-1 text-center"><btn ng-click="predicate = &quot;price_gram&quot;; reverse=!reverse" class="btn btn-xs btn-default">1 G</btn></div><div class="col-xs-2 col-sm-1 text-center"><btn ng-click="predicate = &quot;price_eighth&quot;; reverse=!reverse" class="btn btn-xs btn-default">1/8</btn></div><div class="col-xs-2 col-sm-1 text-center"><btn ng-click="predicate = &quot;price_quarter&quot;; reverse=!reverse" class="btn btn-xs btn-default">1/4</btn></div><div class="col-xs-2 col-sm-1 text-center"><btn ng-click="predicate = &quot;price_half_ounce&quot;; reverse=!reverse" class="btn btn-xs btn-default">1/2</btn></div><div class="col-xs-2 col-sm-1 text-center"><btn ng-click="predicate = &quot;price_ounce&quot;; reverse=!reverse" class="btn btn-xs btn-default">1 OZ</btn></div></div><div ng-repeat="item in vendor.weedMenu | orderBy:predicate:reverse" ng-click="isCollapsed = !isCollapsed" ng-if="item.menu_item_category_id == 2" class="row menu-item"><div class="col-xs-12"><div class="row"><div class="col-xs-12 col-sm-7"><div category="{{item.menu_item_category_id}}" class="pull-left name">{{item.name}}</div><span ng-show="item.image.large || item.image.small" class="glyphicon glyphicon-zoom-in"></span></div><div data="price_gram" class="col-xs-2 col-sm-1 text-center price">{{item.price_gram}}<sup>g</sup></div><div data="price_eighth" class="col-xs-2 col-sm-1 text-center price">{{item.price_eighth}}<sup>1/8</sup></div><div data="price_quarter" class="col-xs-2 col-sm-1 text-center price">{{item.price_quarter}}<sup>1/4</sup></div><div data="price_half_ounce" class="col-xs-2 col-sm-1 text-center price">{{item.price_half_ounce}}<sup>1/2</sup></div><div data="price_ounce" class="col-xs-2 col-sm-1 text-center price">{{item.price_ounce}}<sup>oz</sup></div></div><div ng-show="item.testing.thc" class="row testing-data"><div class="col-xs-7"><span class="thc">THC : {{item.testing.thc}}%</span><span class="cbn">CBN : {{item.testing.cbn}}%</span><span class="cbd">CBD : {{item.testing.cbd}}%</span></div></div><div collapse="!isCollapsed" class="collapse"><div class="row"><div class="col-xs-12"><div ng-show="item.image.large || item.image.small || item.body" class="details row top-spacer"><div class="panel panel-default"><div class="panel-body"><div class="row"><div class="col-xs-12">Last Updated: {{item.updated_at || item.created_at}}</div></div><div class="row"><div ng-show="item.image.large || item.image.small" class="col-xs-6 col-sm-4"><div class="row"><div class="col-md-12"><img ng-src="{{item.image.small || item.image.large}}" class="media-object img-thumbnail"></div></div></div><div ng-show="item.body" class="col-xs-6 col-sm-8 product-description"><div class="row"><div class="col-xs-12">{{item.body}}</div></div></div><div ng-show="item.testing.thc" class="col-xs-12 text-center testing-data-large"><div class="panel panel-warning"><div class="panel-body"><h4 class="thc">THC : {{item.testing.thc}}%</h4><h4 class="cbn">CBN : {{item.testing.cbn}}%</h4><h4 class="cbd">CBD : {{item.testing.cbd}}%</h4></div></div></div></div></div></div></div></div></div></div></div></div></div></div><div ng-show="vendor.categories.hybrid" class="row"><div class="col-xs-12"><div class="row weed-menu-table-head"><div class="col-xs-12 col-sm-7 weed-menu-table-type">Hybrid</div><div class="col-xs-2 col-sm-1 text-center"><btn ng-click="predicate = &quot;price_gram&quot;; reverse=!reverse" class="btn btn-xs btn-default">1 G</btn></div><div class="col-xs-2 col-sm-1 text-center"><btn ng-click="predicate = &quot;price_eighth&quot;; reverse=!reverse" class="btn btn-xs btn-default">1/8</btn></div><div class="col-xs-2 col-sm-1 text-center"><btn ng-click="predicate = &quot;price_quarter&quot;; reverse=!reverse" class="btn btn-xs btn-default">1/4</btn></div><div class="col-xs-2 col-sm-1 text-center"><btn ng-click="predicate = &quot;price_half_ounce&quot;; reverse=!reverse" class="btn btn-xs btn-default">1/2</btn></div><div class="col-xs-2 col-sm-1 text-center"><btn ng-click="predicate = &quot;price_ounce&quot;; reverse=!reverse" class="btn btn-xs btn-default">1 OZ</btn></div></div><div ng-repeat="item in vendor.weedMenu | orderBy:predicate:reverse" ng-click="isCollapsed = !isCollapsed" ng-if="item.menu_item_category_id == 3" class="row menu-item"><div class="col-xs-12"><div class="row"><div class="col-xs-12 col-sm-7"><div category="{{item.menu_item_category_id}}" class="pull-left name">{{item.name}}</div><span ng-show="item.image.large || item.image.small" class="glyphicon glyphicon-zoom-in"></span></div><div data="price_gram" class="col-xs-2 col-sm-1 text-center price">{{item.price_gram}}<sup>g</sup></div><div data="price_eighth" class="col-xs-2 col-sm-1 text-center price">{{item.price_eighth}}<sup>1/8</sup></div><div data="price_quarter" class="col-xs-2 col-sm-1 text-center price">{{item.price_quarter}}<sup>1/4</sup></div><div data="price_half_ounce" class="col-xs-2 col-sm-1 text-center price">{{item.price_half_ounce}}<sup>1/2</sup></div><div data="price_ounce" class="col-xs-2 col-sm-1 text-center price">{{item.price_ounce}}<sup>oz</sup></div></div><div ng-show="item.testing.thc" class="row testing-data"><div class="col-xs-7"><span class="thc">THC : {{item.testing.thc}}%</span><span class="cbn">CBN : {{item.testing.cbn}}%</span><span class="cbd">CBD : {{item.testing.cbd}}%</span></div></div><div collapse="!isCollapsed" class="collapse"><div class="row"><div class="col-xs-12"><div ng-show="item.image.large || item.image.small || item.body" class="details row top-spacer"><div class="panel panel-default"><div class="panel-body"><div class="row"><div class="col-xs-12">Last Updated: {{item.updated_at || item.created_at}}</div></div><div class="row"><div ng-show="item.image.large || item.image.small" class="col-xs-6 col-sm-4"><div class="row"><div class="col-md-12"><img ng-src="{{item.image.small || item.image.large}}" class="media-object img-thumbnail"></div></div></div><div ng-show="item.body" class="col-xs-6 col-sm-8 product-description"><div class="row"><div class="col-xs-12">{{item.body}}</div></div></div><div ng-show="item.testing.thc" class="col-xs-12 text-center testing-data-large"><div class="panel panel-warning"><div class="panel-body"><h4 class="thc">THC : {{item.testing.thc}}%</h4><h4 class="cbn">CBN : {{item.testing.cbn}}%</h4><h4 class="cbd">CBD : {{item.testing.cbd}}%</h4></div></div></div></div></div></div></div></div></div></div></div></div></div></div><div ng-show="vendor.categories.wax" class="row"><div class="col-xs-12"><div class="row weed-menu-table-head"><div class="col-xs-12 col-sm-7 weed-menu-table-type">Wax</div><div class="col-xs-2 text-center"><div ng-click="predicate = &quot;price_half_gram&quot;; reverse=!reverse" class="btn btn-xs btn-default">1/2G</div></div><div class="col-xs-2 text-center"><div ng-click="predicate = &quot;price_gram&quot;; reverse=!reverse" class="btn btn-xs btn-default">1G</div></div></div><div ng-repeat="item in vendor.weedMenu | orderBy:predicate:reverse" ng-click="isCollapsed = !isCollapsed" ng-if="item.menu_item_category_id == 13" class="row menu-item"><div class="col-xs-12"><div class="row"><div class="col-xs-12 col-sm-7"><div category="{{item.menu_item_category_id}}" class="pull-left name">{{item.name}}</div><span ng-show="item.image.large || item.image.small" class="glyphicon glyphicon-zoom-in"></span></div><div data="price_half_gram" class="col-xs-2 text-center price">{{item.price_half_gram}}<sup>1/2g</sup></div><div data="price_gram" class="col-xs-2 text-center price">{{item.price_gram}}<sup>g</sup></div></div><div ng-show="item.testing.thc" class="row testing-data"><div class="col-xs-7"><span class="thc">THC : {{item.testing.thc}}%</span><span class="cbn">CBN : {{item.testing.cbn}}%</span><span class="cbd">CBD : {{item.testing.cbd}}%</span></div></div><div collapse="!isCollapsed" class="collapse"><div class="row"><div class="col-xs-12"><div ng-show="item.image.large || item.image.small || item.body" class="details row top-spacer"><div class="panel panel-default"><div class="panel-body"><div class="row"><div class="col-xs-12">Last Updated: {{item.updated_at || item.created_at}}</div></div><div class="row"><div ng-show="item.image.large || item.image.small" class="col-xs-6 col-sm-4"><div class="row"><div class="col-md-12"><img ng-src="{{item.image.small || item.image.large}}" class="media-object img-thumbnail"></div></div></div><div ng-show="item.body" class="col-xs-6 col-sm-8 product-description"><div class="row"><div class="col-xs-12">{{item.body}}</div></div></div><div ng-show="item.testing.thc" class="col-xs-12 text-center testing-data-large"><div class="panel panel-warning"><div class="panel-body"><h4 class="thc">THC : {{item.testing.thc}}%</h4><h4 class="cbn">CBN : {{item.testing.cbn}}%</h4><h4 class="cbd">CBD : {{item.testing.cbd}}%</h4></div></div></div></div></div></div></div></div></div></div></div></div></div></div><div ng-show="vendor.categories.concentrate" class="row"><div class="col-xs-12"><div class="row weed-menu-table-head"><div class="col-xs-12 col-sm-7 weed-menu-table-type">Concentrate</div><div class="col-xs-2 text-center"><div ng-click="predicate = &quot;price_half_gram&quot;; reverse=!reverse" class="btn btn-xs btn-default">1/2G</div></div><div class="col-xs-2 text-center"><div ng-click="predicate = &quot;price_gram&quot;; reverse=!reverse" class="btn btn-xs btn-default">1G</div></div></div><div ng-repeat="item in vendor.weedMenu | orderBy:predicate:reverse" ng-click="isCollapsed = !isCollapsed" ng-if="item.menu_item_category_id == 5" class="row menu-item"><div class="col-xs-12"><div class="row"><div class="col-xs-12 col-sm-7"><div category="{{item.menu_item_category_id}}" class="pull-left name">{{item.name}}</div><span ng-show="item.image.large || item.image.small" class="glyphicon glyphicon-zoom-in"></span></div><div data="price_half_gram" class="col-xs-2 text-center price">{{item.price_half_gram}}<sup>1/2g</sup></div><div data="price_gram" class="col-xs-2 text-center price">{{item.price_gram}}<sup>g</sup></div></div><div ng-show="item.testing.thc" class="row testing-data"><div class="col-xs-7"><span class="thc">THC : {{item.testing.thc}}%</span><span class="cbn">CBN : {{item.testing.cbn}}%</span><span class="cbd">CBD : {{item.testing.cbd}}%</span></div></div><div collapse="!isCollapsed" class="collapse"><div class="row"><div class="col-xs-12"><div ng-show="item.image.large || item.image.small || item.body" class="details row top-spacer"><div class="panel panel-default"><div class="panel-body"><div class="row"><div class="col-xs-12">Last Updated: {{item.updated_at || item.created_at}}</div></div><div class="row"><div ng-show="item.image.large || item.image.small" class="col-xs-6 col-sm-4"><div class="row"><div class="col-md-12"><img ng-src="{{item.image.small || item.image.large}}" class="media-object img-thumbnail"></div></div></div><div ng-show="item.body" class="col-xs-6 col-sm-8 product-description"><div class="row"><div class="col-xs-12">{{item.body}}</div></div></div><div ng-show="item.testing.thc" class="col-xs-12 text-center testing-data-large"><div class="panel panel-warning"><div class="panel-body"><h4 class="thc">THC : {{item.testing.thc}}%</h4><h4 class="cbn">CBN : {{item.testing.cbn}}%</h4><h4 class="cbd">CBD : {{item.testing.cbd}}%</h4></div></div></div></div></div></div></div></div></div></div></div></div></div></div><div ng-show="vendor.categories.edibles" class="row"><div class="col-xs-12"><div class="row weed-menu-table-head"><div class="col-xs-12 col-sm-7 weed-menu-table-type">Edibles</div><div class="col-xs-1"><div ng-click="predicate = &quot;price_unit&quot;; reverse=!reverse" class="btn btn-sm btn-default">Price</div></div></div><div ng-repeat="item in vendor.weedMenu | orderBy:predicate:reverse" ng-click="isCollapsed = !isCollapsed" ng-if="item.menu_item_category_id == 4" class="row menu-item"><div class="col-xs-12"><div class="row"><div class="col-xs-12 col-sm-7"><div category="{{item.menu_item_category_id}}" class="pull-left name">{{item.name}}</div><span ng-show="item.image.large || item.image.small" class="glyphicon glyphicon-zoom-in"></span></div><div data="price_unit" class="col-xs-1 text-center price">{{item.price_unit}}<sup>ea.</sup></div></div><div ng-show="item.testing.thc" class="row testing-data"><div class="col-xs-7"><span class="thc">THC : {{item.testing.thc}}%</span><span class="cbn">CBN : {{item.testing.cbn}}%</span><span class="cbd">CBD : {{item.testing.cbd}}%</span></div></div><div collapse="!isCollapsed" class="collapse"><div class="row"><div class="col-xs-12"><div ng-show="item.image.large || item.image.small || item.body" class="details row top-spacer"><div class="panel panel-default"><div class="panel-body"><div class="row"><div class="col-xs-12">Last Updated: {{item.updated_at || item.created_at}}</div></div><div class="row"><div ng-show="item.image.large || item.image.small" class="col-xs-6 col-sm-4"><div class="row"><div class="col-md-12"><img ng-src="{{item.image.small || item.image.large}}" class="media-object img-thumbnail"></div></div></div><div ng-show="item.body" class="col-xs-6 col-sm-8 product-description"><div class="row"><div class="col-xs-12">{{item.body}}</div></div></div><div ng-show="item.testing.thc" class="col-xs-12 text-center testing-data-large"><div class="panel panel-warning"><div class="panel-body"><h4 class="thc">THC : {{item.testing.thc}}%</h4><h4 class="cbn">CBN : {{item.testing.cbn}}%</h4><h4 class="cbd">CBD : {{item.testing.cbd}}%</h4></div></div></div></div></div></div></div></div></div></div></div></div></div></div><div ng-show="vendor.categories.drinks" class="row"><div class="col-xs-12"><div class="row weed-menu-table-head"><div class="col-xs-12 col-sm-7 weed-menu-table-type">Drinks</div><div class="col-xs-1"><div ng-click="predicate = &quot;price_unit&quot;; reverse=!reverse" class="btn btn-sm btn-default">Price</div></div></div><div ng-repeat="item in vendor.weedMenu | orderBy:predicate:reverse" ng-click="isCollapsed = !isCollapsed" ng-if="item.menu_item_category_id == 6" class="row menu-item"><div class="col-xs-12"><div class="row"><div class="col-xs-12 col-sm-7"><div category="{{item.menu_item_category_id}}" class="pull-left name">{{item.name}}</div><span ng-show="item.image.large || item.image.small" class="glyphicon glyphicon-zoom-in"></span></div><div data="price_unit" class="col-xs-1 text-center price">{{item.price_unit}}<sup>ea.</sup></div></div><div ng-show="item.testing.thc" class="row testing-data"><div class="col-xs-7"><span class="thc">THC : {{item.testing.thc}}%</span><span class="cbn">CBN : {{item.testing.cbn}}%</span><span class="cbd">CBD : {{item.testing.cbd}}%</span></div></div><div collapse="!isCollapsed" class="collapse"><div class="row"><div class="col-xs-12"><div ng-show="item.image.large || item.image.small || item.body" class="details row top-spacer"><div class="panel panel-default"><div class="panel-body"><div class="row"><div class="col-xs-12">Last Updated: {{item.updated_at || item.created_at}}</div></div><div class="row"><div ng-show="item.image.large || item.image.small" class="col-xs-6 col-sm-4"><div class="row"><div class="col-md-12"><img ng-src="{{item.image.small || item.image.large}}" class="media-object img-thumbnail"></div></div></div><div ng-show="item.body" class="col-xs-6 col-sm-8 product-description"><div class="row"><div class="col-xs-12">{{item.body}}</div></div></div><div ng-show="item.testing.thc" class="col-xs-12 text-center testing-data-large"><div class="panel panel-warning"><div class="panel-body"><h4 class="thc">THC : {{item.testing.thc}}%</h4><h4 class="cbn">CBN : {{item.testing.cbn}}%</h4><h4 class="cbd">CBD : {{item.testing.cbd}}%</h4></div></div></div></div></div></div></div></div></div></div></div></div></div></div><div ng-show="vendor.categories.clones" class="row"><div class="col-xs-12"><div class="row weed-menu-table-head"><div class="col-xs-12 col-sm-7 weed-menu-table-type">Clones</div><div class="col-xs-1"><div ng-click="predicate = &quot;price_unit&quot;; reverse=!reverse" class="btn btn-sm btn-default">Price</div></div></div><div ng-repeat="item in vendor.weedMenu | orderBy:predicate:reverse" ng-click="isCollapsed = !isCollapsed" ng-if="item.menu_item_category_id == 7" class="row menu-item"><div class="col-xs-12"><div class="row"><div class="col-xs-12 col-sm-7"><div category="{{item.menu_item_category_id}}" class="pull-left name">{{item.name}}</div><span ng-show="item.image.large || item.image.small" class="glyphicon glyphicon-zoom-in"></span></div><div data="price_unit" class="col-xs-1 text-center price">{{item.price_unit}}<sup>ea.</sup></div></div><div ng-show="item.testing.thc" class="row testing-data"><div class="col-xs-7"><span class="thc">THC : {{item.testing.thc}}%</span><span class="cbn">CBN : {{item.testing.cbn}}%</span><span class="cbd">CBD : {{item.testing.cbd}}%</span></div></div><div collapse="!isCollapsed" class="collapse"><div class="row"><div class="col-xs-12"><div ng-show="item.image.large || item.image.small || item.body" class="details row top-spacer"><div class="panel panel-default"><div class="panel-body"><div class="row"><div class="col-xs-12">Last Updated: {{item.updated_at || item.created_at}}</div></div><div class="row"><div ng-show="item.image.large || item.image.small" class="col-xs-6 col-sm-4"><div class="row"><div class="col-md-12"><img ng-src="{{item.image.small || item.image.large}}" class="media-object img-thumbnail"></div></div></div><div ng-show="item.body" class="col-xs-6 col-sm-8 product-description"><div class="row"><div class="col-xs-12">{{item.body}}</div></div></div><div ng-show="item.testing.thc" class="col-xs-12 text-center testing-data-large"><div class="panel panel-warning"><div class="panel-body"><h4 class="thc">THC : {{item.testing.thc}}%</h4><h4 class="cbn">CBN : {{item.testing.cbn}}%</h4><h4 class="cbd">CBD : {{item.testing.cbd}}%</h4></div></div></div></div></div></div></div></div></div></div></div></div></div></div><div ng-show="vendor.categories.seeds" class="row"><div class="col-xs-12"><div class="row weed-menu-table-head"><div class="col-xs-12 col-sm-7 weed-menu-table-type">Seeds</div><div class="col-xs-1"><div ng-click="predicate = &quot;price_unit&quot;; reverse=!reverse" class="btn btn-sm btn-default">Price</div></div></div><div ng-repeat="item in vendor.weedMenu | orderBy:predicate:reverse" ng-click="isCollapsed = !isCollapsed" ng-if="item.menu_item_category_id == 8" class="row menu-item"><div class="col-xs-12"><div class="row"><div class="col-xs-12 col-sm-7"><div category="{{item.menu_item_category_id}}" class="pull-left name">{{item.name}}</div><span ng-show="item.image.large || item.image.small" class="glyphicon glyphicon-zoom-in"></span></div><div data="price_unit" class="col-xs-1 text-center price">{{item.price_unit}}<sup>ea.</sup></div></div><div ng-show="item.testing.thc" class="row testing-data"><div class="col-xs-7"><span class="thc">THC : {{item.testing.thc}}%</span><span class="cbn">CBN : {{item.testing.cbn}}%</span><span class="cbd">CBD : {{item.testing.cbd}}%</span></div></div><div collapse="!isCollapsed" class="collapse"><div class="row"><div class="col-xs-12"><div ng-show="item.image.large || item.image.small || item.body" class="details row top-spacer"><div class="panel panel-default"><div class="panel-body"><div class="row"><div class="col-xs-12">Last Updated: {{item.updated_at || item.created_at}}</div></div><div class="row"><div ng-show="item.image.large || item.image.small" class="col-xs-6 col-sm-4"><div class="row"><div class="col-md-12"><img ng-src="{{item.image.small || item.image.large}}" class="media-object img-thumbnail"></div></div></div><div ng-show="item.body" class="col-xs-6 col-sm-8 product-description"><div class="row"><div class="col-xs-12">{{item.body}}</div></div></div><div ng-show="item.testing.thc" class="col-xs-12 text-center testing-data-large"><div class="panel panel-warning"><div class="panel-body"><h4 class="thc">THC : {{item.testing.thc}}%</h4><h4 class="cbn">CBN : {{item.testing.cbn}}%</h4><h4 class="cbd">CBD : {{item.testing.cbd}}%</h4></div></div></div></div></div></div></div></div></div></div></div></div></div></div><div ng-show="vendor.categories.tincture" class="row"><div class="col-xs-12"><div class="row weed-menu-table-head"><div class="col-xs-12 col-sm-7 weed-menu-table-type">Tincture</div><div class="col-xs-1"><div ng-click="predicate = &quot;price_unit&quot;; reverse=!reverse" class="btn btn-sm btn-default">Price</div></div></div><div ng-repeat="item in vendor.weedMenu | orderBy:predicate:reverse" ng-click="isCollapsed = !isCollapsed" ng-if="item.menu_item_category_id == 9" class="row menu-item"><div class="col-xs-12"><div class="row"><div class="col-xs-12 col-sm-7"><div category="{{item.menu_item_category_id}}" class="pull-left name">{{item.name}}</div><span ng-show="item.image.large || item.image.small" class="glyphicon glyphicon-zoom-in"></span></div><div data="price_unit" class="col-xs-1 text-center price">{{item.price_unit}}<sup>ea.</sup></div></div><div ng-show="item.testing.thc" class="row testing-data"><div class="col-xs-7"><span class="thc">THC : {{item.testing.thc}}%</span><span class="cbn">CBN : {{item.testing.cbn}}%</span><span class="cbd">CBD : {{item.testing.cbd}}%</span></div></div><div collapse="!isCollapsed" class="collapse"><div class="row"><div class="col-xs-12"><div ng-show="item.image.large || item.image.small || item.body" class="details row top-spacer"><div class="panel panel-default"><div class="panel-body"><div class="row"><div class="col-xs-12">Last Updated: {{item.updated_at || item.created_at}}</div></div><div class="row"><div ng-show="item.image.large || item.image.small" class="col-xs-6 col-sm-4"><div class="row"><div class="col-md-12"><img ng-src="{{item.image.small || item.image.large}}" class="media-object img-thumbnail"></div></div></div><div ng-show="item.body" class="col-xs-6 col-sm-8 product-description"><div class="row"><div class="col-xs-12">{{item.body}}</div></div></div><div ng-show="item.testing.thc" class="col-xs-12 text-center testing-data-large"><div class="panel panel-warning"><div class="panel-body"><h4 class="thc">THC : {{item.testing.thc}}%</h4><h4 class="cbn">CBN : {{item.testing.cbn}}%</h4><h4 class="cbd">CBD : {{item.testing.cbd}}%</h4></div></div></div></div></div></div></div></div></div></div></div></div></div></div><div ng-show="vendor.categories.gear" class="row"><div class="col-xs-12"><div class="row weed-menu-table-head"><div class="col-xs-12 col-sm-7 weed-menu-table-type">Gear</div><div class="col-xs-1"><div ng-click="predicate = &quot;price_unit&quot;; reverse=!reverse" class="btn btn-sm btn-default">Price</div></div></div><div ng-repeat="item in vendor.weedMenu | orderBy:predicate:reverse" ng-click="isCollapsed = !isCollapsed" ng-if="item.menu_item_category_id == 10" class="row menu-item"><div class="col-xs-12"><div class="row"><div class="col-xs-12 col-sm-7"><div category="{{item.menu_item_category_id}}" class="pull-left name">{{item.name}}</div><span ng-show="item.image.large || item.image.small" class="glyphicon glyphicon-zoom-in"></span></div><div data="price_unit" class="col-xs-1 text-center price">{{item.price_unit}}<sup>ea.</sup></div></div><div ng-show="item.testing.thc" class="row testing-data"><div class="col-xs-7"><span class="thc">THC : {{item.testing.thc}}%</span><span class="cbn">CBN : {{item.testing.cbn}}%</span><span class="cbd">CBD : {{item.testing.cbd}}%</span></div></div><div collapse="!isCollapsed" class="collapse"><div class="row"><div class="col-xs-12"><div ng-show="item.image.large || item.image.small || item.body" class="details row top-spacer"><div class="panel panel-default"><div class="panel-body"><div class="row"><div class="col-xs-12">Last Updated: {{item.updated_at || item.created_at}}</div></div><div class="row"><div ng-show="item.image.large || item.image.small" class="col-xs-6 col-sm-4"><div class="row"><div class="col-md-12"><img ng-src="{{item.image.small || item.image.large}}" class="media-object img-thumbnail"></div></div></div><div ng-show="item.body" class="col-xs-6 col-sm-8 product-description"><div class="row"><div class="col-xs-12">{{item.body}}</div></div></div><div ng-show="item.testing.thc" class="col-xs-12 text-center testing-data-large"><div class="panel panel-warning"><div class="panel-body"><h4 class="thc">THC : {{item.testing.thc}}%</h4><h4 class="cbn">CBN : {{item.testing.cbn}}%</h4><h4 class="cbd">CBD : {{item.testing.cbd}}%</h4></div></div></div></div></div></div></div></div></div></div></div></div></div></div><div ng-show="vendor.categories.topical" class="row"><div class="col-xs-12"><div class="row weed-menu-table-head"><div class="col-xs-12 col-sm-7 weed-menu-table-type">Topical</div><div class="col-xs-1"><div ng-click="predicate = &quot;price_unit&quot;; reverse=!reverse" class="btn btn-sm btn-default">Price</div></div></div><div ng-repeat="item in vendor.weedMenu | orderBy:predicate:reverse" ng-click="isCollapsed = !isCollapsed" ng-if="item.menu_item_category_id == 11" class="row menu-item"><div class="col-xs-12"><div class="row"><div class="col-xs-12 col-sm-7"><div category="{{item.menu_item_category_id}}" class="pull-left name">{{item.name}}</div><span ng-show="item.image.large || item.image.small" class="glyphicon glyphicon-zoom-in"></span></div><div data="price_unit" class="col-xs-1 text-center price">{{item.price_unit}}<sup>ea.</sup></div></div><div ng-show="item.testing.thc" class="row testing-data"><div class="col-xs-7"><span class="thc">THC : {{item.testing.thc}}%</span><span class="cbn">CBN : {{item.testing.cbn}}%</span><span class="cbd">CBD : {{item.testing.cbd}}%</span></div></div><div collapse="!isCollapsed" class="collapse"><div class="row"><div class="col-xs-12"><div ng-show="item.image.large || item.image.small || item.body" class="details row top-spacer"><div class="panel panel-default"><div class="panel-body"><div class="row"><div class="col-xs-12">Last Updated: {{item.updated_at || item.created_at}}</div></div><div class="row"><div ng-show="item.image.large || item.image.small" class="col-xs-6 col-sm-4"><div class="row"><div class="col-md-12"><img ng-src="{{item.image.small || item.image.large}}" class="media-object img-thumbnail"></div></div></div><div ng-show="item.body" class="col-xs-6 col-sm-8 product-description"><div class="row"><div class="col-xs-12">{{item.body}}</div></div></div><div ng-show="item.testing.thc" class="col-xs-12 text-center testing-data-large"><div class="panel panel-warning"><div class="panel-body"><h4 class="thc">THC : {{item.testing.thc}}%</h4><h4 class="cbn">CBN : {{item.testing.cbn}}%</h4><h4 class="cbd">CBD : {{item.testing.cbd}}%</h4></div></div></div></div></div></div></div></div></div></div></div></div></div></div><div ng-show="vendor.categories.preroll" class="row"><div class="col-xs-12"><div class="row weed-menu-table-head"><div class="col-xs-12 col-sm-7 weed-menu-table-type">Prerolled</div><div class="col-xs-1"><div ng-click="predicate = &quot;price_unit&quot;; reverse=!reverse" class="btn btn-sm btn-default">Price</div></div></div><div ng-repeat="item in vendor.weedMenu | orderBy:predicate:reverse" ng-click="open($event, name)" ng-mouseleave="close($event, name)" ng-if="item.menu_item_category_id == 12" class="row menu-item"><div class="col-xs-12"><div class="row"><div class="col-xs-12 col-sm-7"><div category="{{item.menu_item_category_id}}" class="pull-left name">{{item.name}}</div><span ng-show="item.image.large || item.image.small" class="glyphicon glyphicon-zoom-in"></span></div><div data="price_unit" class="col-xs-1 text-center price">{{item.price_unit}}<sup>ea.</sup></div></div><div ng-show="item.testing.thc" class="row testing-data"><div class="col-xs-7"><span class="thc">THC : {{item.testing.thc}}%</span><span class="cbn">CBN : {{item.testing.cbn}}%</span><span class="cbd">CBD : {{item.testing.cbd}}%</span></div></div><div collapse="!isCollapsed" class="collapse"><div class="row"><div class="col-xs-12"><div ng-show="item.image.large || item.image.small || item.body" class="details row top-spacer"><div class="panel panel-default"><div class="panel-body"><div class="row"><div class="col-xs-12">Last Updated: {{item.updated_at || item.created_at}}</div></div><div class="row"><div ng-show="item.image.large || item.image.small" class="col-xs-6 col-sm-4"><div class="row"><div class="col-md-12"><img ng-src="{{item.image.small || item.image.large}}" class="media-object img-thumbnail"></div></div></div><div ng-show="item.body" class="col-xs-6 col-sm-8 product-description"><div class="row"><div class="col-xs-12">{{item.body}}</div></div></div><div ng-show="item.testing.thc" class="col-xs-12 text-center testing-data-large"><div class="panel panel-warning"><div class="panel-body"><h4 class="thc">THC : {{item.testing.thc}}%</h4><h4 class="cbn">CBN : {{item.testing.cbn}}%</h4><h4 class="cbd">CBD : {{item.testing.cbd}}%</h4></div></div></div></div></div></div></div></div></div></div></div></div></div></div></div></tab><tab heading="Review Dispensary" class="hidden-xs"><div ng-show="!vendor.isLoggedIn" class="review-vendorlay top-spacer"><div class="alert alert-success">Please login to post a review.</div></div><div class="review top-spacer"><div ng-show="vendor.hasReviewed" class="row"><div class="alert alert-success">Thanks for posting your review.</div></div><div ng-show="vendor.isLoggedIn &amp;&amp; !vendor.hasReviewed" class="row"><div class="col-sm-5"><div class="row"><div class="col-md-3 hidden-sm"><img src="/images/patient-image-fpo.png" alt="" class="media-object img-thumbnail"></div><div class="col-sm-12 col-md-8"><div ng-class="{&quot;alert-danger&quot;:formErr}" role="alert" class="alert"><div class="row rating-row"><div class="col-sm-12 review-user-name"></div></div><div id="ratingToolTip" data-toggle="tooltip" title="Please rate this dispensary." class="row rating-row"><div class="col-sm-6 rating-title">Quality : &nbsp;</div><div class="col-sm-6 stars-container"><rating ng-model="vendor.review.rating_q" max="5" readonly="flase" on-hover="" on-leave="overStar = null" class="rating"></rating></div></div><div class="row rating-row"><div class="col-sm-6 rating-title">Price : &nbsp;</div><div class="col-sm-6 stars-container"><rating ng-model="vendor.review.rating_p" max="5" readonly="flase" required="required" on-hover="hoveringOver(value)" on-leave="overStar = null" class="rating"></rating></div></div><div class="row rating-row"><div class="col-sm-6 rating-title">Staff : &nbsp;</div><div class="col-sm-6 stars-container"><rating ng-model="vendor.review.rating_s" max="5" readonly="flase" on-hover="hoveringOver(value)" on-leave="overStar = null" class="rating"></rating></div></div><div class="row rating-row"><div class="col-sm-6 rating-title">Location : &nbsp;</div><div class="col-sm-6 stars-container"><rating ng-model="vendor.review.rating_l" max="5" readonly="flase" on-hover="hoveringOver(value)" on-leave="overStar = null" class="rating"></rating></div></div></div></div></div></div><div class="col-sm-7"><div class="review-area"><form id="reviewForm" role="form" data="undefined" dispensaryname="undefined" dispensaryid="undefined" class="form-horizontal"><div class="form-group col-md-12"><input ng-model="vendor.review.title" type="text" placeholder="Title your review!" class="form-control"></div><div id="reviewBodyGroup" class="form-group col-md-12"><textarea ng-model="vendor.review.body" rows="7" class="form-control"></textarea></div><button type="button" id="" ng-click="vendor.review.submitReview()" class="btn btn-success pull-right">Submit Review</button></form></div></div></div></div></tab><tab heading="Reviews"><div ng-show="!vendor.hasReviews" class="review-vendorlay top-spacer"><div class="alert alert-success">This vendor has no reviews yet. But it is rated {{vendor.page.rating}}/5 with {{vendor.page.reviews_count}} reviews</div></div><div ng-show="vendor.hasReviews" class="review-vendorlay top-spacer"><div ng-repeat="review in vendor.reviews" class="row"><div class="col-xs-12 col-md-5"><div class="row"><div class="hidden-xs col-sm-3"><img src="/images/patient-image-fpo.png" alt="" class="media-object img-thumbnail"></div><div class="col-xs-12 col-sm-8"><div class="row review-user-name"><div class="col-xs-12"><a ng-href="/profiles/{{review.user.id}}">{{review.user.name}}</a></div></div><div class="row"><div class="col-xs-12 rating-title">Overall :<rating ng-model="review.review.overall" max="5" readonly="true" on-hover="" on-leave="overStar = null" class="rating"></rating></div></div><div class="row"><div class="col-xs-12 rating-title">Quality :<rating ng-model="review.review.quality" max="5" readonly="true" on-hover="" on-leave="overStar = null" class="rating"></rating></div></div><div class="row"><div class="col-xs-12 rating-title">Price :<rating ng-model="review.review.price" max="5" readonly="true" on-hover="" on-leave="overStar = null" class="rating"></rating></div></div><div class="row"><div class="col-xs-12 rating-title">Staff :<rating ng-model="review.review.staff" max="5" readonly="true" on-hover="" on-leave="overStar = null" class="rating"></rating></div></div><div class="row"><div class="col-xs-12 rating-title">Location :<rating ng-model="review.review.location" max="5" readonly="true" on-hover="" on-leave="overStar = null" class="rating"></rating></div></div></div></div></div><div class="col-xs-12 col-md-7"></div><ul role="menu" style="min-width:0" class="dropdown-menu pull-right"></ul><li class="text-right"><div class="review-area"></div></li></div><div class="row"><div class="col-md-12"><div class="well"><div class="row"><div class="col-md-offset-6 col-md-4"><p class="text-right">Sign in or Sign up to reply to this comment.</p></div><div class="col-md-2"><div class="btn-group"><button data-toggle="modal" data-target="#signUpModal" class="btn btn-success">Sign Up</button><button id="login-btn" data-toggle="modal" data-target="#signInModal" class="btn btn-primary">Sign In</button></div></div></div></div></div></div><div class="row"><div class="col-md-11"><h3>Be the first to review this dispensary!</h3></div></div></div></tab></tabset></div></div>')
}])}();